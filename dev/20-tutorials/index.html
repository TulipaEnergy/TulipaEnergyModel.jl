<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tutorials · TulipaEnergyModel.jl</title><meta name="title" content="Tutorials · TulipaEnergyModel.jl"/><meta property="og:title" content="Tutorials · TulipaEnergyModel.jl"/><meta property="twitter:title" content="Tutorials · TulipaEnergyModel.jl"/><meta name="description" content="Documentation for TulipaEnergyModel.jl."/><meta property="og:description" content="Documentation for TulipaEnergyModel.jl."/><meta property="twitter:description" content="Documentation for TulipaEnergyModel.jl."/><meta property="og:url" content="https://TulipaEnergy.github.io/TulipaEnergyModel.jl/20-tutorials/"/><meta property="twitter:url" content="https://TulipaEnergy.github.io/TulipaEnergyModel.jl/20-tutorials/"/><link rel="canonical" href="https://TulipaEnergy.github.io/TulipaEnergyModel.jl/20-tutorials/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="TulipaEnergyModel.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">TulipaEnergyModel.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Welcome</a></li><li><a class="tocitem" href="../10-how-to-use/">How to Use</a></li><li class="is-active"><a class="tocitem" href>Tutorials</a><ul class="internal"><li><a class="tocitem" href="#basic-example"><span>Basic example</span></a></li><li><a class="tocitem" href="#Change-optimizer-and-specify-parameters"><span>Change optimizer and specify parameters</span></a></li></ul></li><li><a class="tocitem" href="../30-concepts/">Concepts</a></li><li><a class="tocitem" href="../40-formulation/">Mathematical Formulation</a></li><li><a class="tocitem" href="../50-schemas/">Model Parameters</a></li><li><a class="tocitem" href="../60-structures/">Model Structures</a></li><li><a class="tocitem" href="../90-contributing/">Contributing Guidelines</a></li><li><a class="tocitem" href="../91-developer/">Developer Documentation</a></li><li><a class="tocitem" href="../95-reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Tutorials</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tutorials</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/main/docs/src/20-tutorials.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="tutorials"><a class="docs-heading-anchor" href="#tutorials">Tutorials</a><a id="tutorials-1"></a><a class="docs-heading-anchor-permalink" href="#tutorials" title="Permalink"></a></h1><p>Here are some tutorials on how to use Tulipa.</p><ul><li><a href="#tutorials">Tutorials</a></li><li class="no-marker"><ul><li><a href="#basic-example">Basic example</a></li><li class="no-marker"><ul><li><a href="#Run-scenario">Run scenario</a></li><li><a href="#Manually-running-each-step">Manually running each step</a></li><li><a href="#Manually-creating-all-structures-without-EnergyProblem">Manually creating all structures without EnergyProblem</a></li></ul></li><li><a href="#Change-optimizer-and-specify-parameters">Change optimizer and specify parameters</a></li></ul></li></ul><h2 id="basic-example"><a class="docs-heading-anchor" href="#basic-example">Basic example</a><a id="basic-example-1"></a><a class="docs-heading-anchor-permalink" href="#basic-example" title="Permalink"></a></h2><p>For our first example, let&#39;s use a tiny existing dataset. Inside the code for this package, you can find the folder <a href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/tree/main/test/inputs/Tiny"><code>test/inputs/Tiny</code></a>, which includes all the files necessary to create a model and solve it.</p><p>The files inside the &quot;Tiny&quot; folder define the assets and flows data, their profiles, and their time resolution, as well as define the representative periods and which periods in the full problem formulation they represent.</p><p>For more details about these files, see <a href="../10-how-to-use/#input">Input</a>.</p><h3 id="Run-scenario"><a class="docs-heading-anchor" href="#Run-scenario">Run scenario</a><a id="Run-scenario-1"></a><a class="docs-heading-anchor-permalink" href="#Run-scenario" title="Permalink"></a></h3><p>To read all data from the Tiny folder, perform all necessary steps to create a model, and solve the model, run the following in a Julia terminal:</p><pre><code class="language-julia hljs">using DuckDB, TulipaIO, TulipaEnergyModel

# input_dir should be the path to Tiny as a string (something like &quot;test/inputs/Tiny&quot;)
# TulipaEnergyModel.schema_per_table_name contains the schema with columns and types the file must have
connection = DBInterface.connect(DuckDB.DB)
read_csv_folder(connection, input_dir; schemas = TulipaEnergyModel.schema_per_table_name)
energy_problem = run_scenario(connection)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">EnergyProblem:
  - Model created!
    - Number of variables: 364
    - Number of constraints for variable bounds: 364
    - Number of structural constraints: 432
  - Model solved!
    - Termination status: OPTIMAL
    - Objective value: 269238.4382415647
</code></pre><p>The <code>energy_problem</code> variable is of type <code>EnergyProblem</code>. For more details, see the <a href="../95-reference/#TulipaEnergyModel.EnergyProblem">documentation for that type</a> or the section <a href="../60-structures/#structures">Structures</a>.</p><p>That&#39;s all it takes to run a scenario! To learn about the data required to run your own scenario, see the <a href="../10-how-to-use/#input">Input section</a> of <a href="../10-how-to-use/#how-to-use">How to Use</a>.</p><h3 id="Manually-running-each-step"><a class="docs-heading-anchor" href="#Manually-running-each-step">Manually running each step</a><a id="Manually-running-each-step-1"></a><a class="docs-heading-anchor-permalink" href="#Manually-running-each-step" title="Permalink"></a></h3><p>If we need more control, we can create the energy problem first, then the optimization model inside it, and finally ask for it to be solved.</p><pre><code class="language-julia hljs">using DuckDB, TulipaIO, TulipaEnergyModel

# input_dir should be the path to Tiny as a string (something like &quot;test/inputs/Tiny&quot;)
connection = DBInterface.connect(DuckDB.DB)
read_csv_folder(connection, input_dir; schemas = TulipaEnergyModel.schema_per_table_name)
energy_problem = EnergyProblem(connection)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">EnergyProblem:
  - Model not created!
  - Model not solved!
</code></pre><p>The energy problem does not have a model yet:</p><pre><code class="language-julia hljs">energy_problem.model === nothing</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><p>To create the internal model, we call the function <a href="../95-reference/#TulipaEnergyModel.create_model!-Tuple{Any}"><code>create_model!</code></a>.</p><pre><code class="language-julia hljs">create_model!(energy_problem)
energy_problem.model</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">A JuMP Model
├ solver: none
├ objective_sense: MIN_SENSE
│ └ objective_function_type: JuMP.AffExpr
├ num_variables: 364
├ num_constraints: 801
│ ├ JuMP.AffExpr in MOI.EqualTo{Float64}: 72
│ ├ JuMP.AffExpr in MOI.LessThan{Float64}: 360
│ ├ JuMP.VariableRef in MOI.GreaterThan{Float64}: 364
│ ├ JuMP.VariableRef in MOI.LessThan{Float64}: 1
│ └ JuMP.VariableRef in MOI.Integer: 4
└ Names registered in the model
  └ :balance_consumer, :balance_conversion, :balance_hub, :balance_storage_over_clustered_year, :balance_storage_rep_period, :investment_group_max_limit, :investment_group_min_limit, :limit_units_on, :max_energy_over_clustered_year, :max_input_flows_limit, :max_input_flows_limit_investable_storage_with_binary_and__with_investment_limit, :max_input_flows_limit_investable_storage_with_binary_and__with_investment_variable, :max_input_flows_limit_non_investable_storage_with_binary, :max_output_flow_with_basic_unit_commitment, :max_output_flows_limit, :max_output_flows_limit_investable_storage_with_binary_and_with_investment_limit, :max_output_flows_limit_investable_storage_with_binary_and_with_investment_variable, :max_output_flows_limit_non_investable_storage_with_binary, :max_ramp_down_with_unit_commitment, :max_ramp_down_without_unit_commitment, :max_ramp_up_with_unit_commitment, :max_ramp_up_without_unit_commitment, :max_storage_level_over_clustered_year_limit, :max_storage_level_rep_period_limit, :max_transport_flow_limit, :min_energy_over_clustered_year, :min_output_flow_with_unit_commitment, :min_storage_level_over_clustered_year_limit, :min_storage_level_rep_period_limit, :min_transport_flow_limit</code></pre><p>The model has not been solved yet, which can be verified through the <code>solved</code> flag inside the energy problem:</p><pre><code class="language-julia hljs">energy_problem.solved</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><p>Finally, we can solve the model:</p><pre><code class="language-julia hljs">solve_model!(energy_problem)</code></pre><p>The compute the solution and save it in the DuckDB connection, we can use</p><pre><code class="language-julia hljs">save_solution!(energy_problem)</code></pre><p>The solutions will be saved in the variable and constraints tables. To save the solution to CSV files, you can use <a href="../95-reference/#TulipaEnergyModel.export_solution_to_csv_files-NTuple{4, Any}"><code>export_solution_to_csv_files</code></a></p><pre><code class="language-julia hljs">mkdir(&quot;output_folder&quot;)
export_solution_to_csv_files(&quot;output_folder&quot;, energy_problem)</code></pre><p>The objective value and the termination status are also included in the energy problem:</p><pre><code class="language-julia hljs">energy_problem.objective_value, energy_problem.termination_status</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(269238.4382415647, MathOptInterface.OPTIMAL)</code></pre><h3 id="Manually-creating-all-structures-without-EnergyProblem"><a class="docs-heading-anchor" href="#Manually-creating-all-structures-without-EnergyProblem">Manually creating all structures without EnergyProblem</a><a id="Manually-creating-all-structures-without-EnergyProblem-1"></a><a class="docs-heading-anchor-permalink" href="#Manually-creating-all-structures-without-EnergyProblem" title="Permalink"></a></h3><p>The <code>EnergyProblem</code> structure holds various internal structures, including the JuMP model and the DuckDB connection. There is currently no reason to manually create and maintain these structures yourself, so we recommend that you use the previous sections instead.</p><p>To avoid having to update this documentation whenever we make changes to the internals of TulipaEnergyModel before the v1.0.0 release, we will keep this section empty until then.</p><h2 id="Change-optimizer-and-specify-parameters"><a class="docs-heading-anchor" href="#Change-optimizer-and-specify-parameters">Change optimizer and specify parameters</a><a id="Change-optimizer-and-specify-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Change-optimizer-and-specify-parameters" title="Permalink"></a></h2><p>By default, the model is solved using the <a href="https://github.com/jump-dev/HiGHS.jl">HiGHS</a> optimizer (or solver). To change this, we can give the functions <code>run_scenario</code> or <code>solve_model!</code> a different optimizer.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>HiGHS is the only open source solver that we recommend. GLPK and Cbc are not (fully) tested for Tulipa.</p></div></div><p>For instance, let&#39;s run the Tiny example using the <a href="https://github.com/jump-dev/GLPK.jl">GLPK</a> optimizer:</p><pre><code class="language-julia hljs">using DuckDB, TulipaIO, TulipaEnergyModel, GLPK

# input_dir should be the path to Tiny as a string (something like &quot;test/inputs/Tiny&quot;)
connection = DBInterface.connect(DuckDB.DB)
read_csv_folder(connection, input_dir; schemas = TulipaEnergyModel.schema_per_table_name)
energy_problem = run_scenario(connection, optimizer = GLPK.Optimizer)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">EnergyProblem:
  - Model created!
    - Number of variables: 364
    - Number of constraints for variable bounds: 364
    - Number of structural constraints: 432
  - Model solved!
    - Termination status: OPTIMAL
    - Objective value: 269238.4382403546
</code></pre><p>or</p><pre><code class="language-julia hljs">using GLPK

solution = solve_model!(energy_problem, GLPK.Optimizer)</code></pre><div class="admonition is-info"><header class="admonition-header">Info</header><div class="admonition-body"><p>Notice that, in any of these cases, we need to explicitly add the GLPK package ourselves and add <code>using GLPK</code> before using <code>GLPK.Optimizer</code>.</p></div></div><p>In any of these cases, default parameters for the <code>GLPK</code> optimizer are used, which you can query using <a href="../95-reference/#TulipaEnergyModel.default_parameters-Tuple{Any}"><code>default_parameters</code></a>. You can pass a dictionary using the keyword argument <code>parameters</code> to change the defaults. For instance, in the example below, we change the maximum allowed runtime for GLPK to be 1 seconds, which will most likely cause it to fail to converge in time.</p><pre><code class="language-julia hljs">using DuckDB, TulipaIO, TulipaEnergyModel, GLPK

parameters = Dict(&quot;tm_lim&quot; =&gt; 1)
connection = DBInterface.connect(DuckDB.DB)
read_csv_folder(connection, input_dir; schemas = TulipaEnergyModel.schema_per_table_name)
energy_problem = run_scenario(connection, optimizer = GLPK.Optimizer, parameters = parameters)
energy_problem.termination_status</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">TIME_LIMIT::TerminationStatusCode = 12</code></pre><p>For the complete list of parameters, check your chosen optimizer.</p><p>These parameters can also be passed via a file. See the <a href="../95-reference/#TulipaEnergyModel.read_parameters_from_file-Tuple{Any}"><code>read_parameters_from_file</code></a> function for more details.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../10-how-to-use/">« How to Use</a><a class="docs-footer-nextpage" href="../30-concepts/">Concepts »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Wednesday 12 March 2025 11:17">Wednesday 12 March 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
