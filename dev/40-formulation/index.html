<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Mathematical Formulation · TulipaEnergyModel.jl</title><meta name="title" content="Mathematical Formulation · TulipaEnergyModel.jl"/><meta property="og:title" content="Mathematical Formulation · TulipaEnergyModel.jl"/><meta property="twitter:title" content="Mathematical Formulation · TulipaEnergyModel.jl"/><meta name="description" content="Documentation for TulipaEnergyModel.jl."/><meta property="og:description" content="Documentation for TulipaEnergyModel.jl."/><meta property="twitter:description" content="Documentation for TulipaEnergyModel.jl."/><meta property="og:url" content="https://TulipaEnergy.github.io/TulipaEnergyModel.jl/40-formulation/"/><meta property="twitter:url" content="https://TulipaEnergy.github.io/TulipaEnergyModel.jl/40-formulation/"/><link rel="canonical" href="https://TulipaEnergy.github.io/TulipaEnergyModel.jl/40-formulation/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="TulipaEnergyModel.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">TulipaEnergyModel.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Welcome</a></li><li><a class="tocitem" href="../00-getting-started/">Getting Started</a></li><li><a class="tocitem" href="../10-tutorials/">Tutorials</a></li><li><a class="tocitem" href="../11-workflow-with-obz/">Tutorial: OBZ case study</a></li><li><a class="tocitem" href="../20-how-to-use/">How to Use</a></li><li><a class="tocitem" href="../30-concepts/">Concepts</a></li><li class="is-active"><a class="tocitem" href>Mathematical Formulation</a><ul class="internal"><li><a class="tocitem" href="#math-sets"><span>Sets</span></a></li><li><a class="tocitem" href="#math-parameters"><span>Parameters</span></a></li><li><a class="tocitem" href="#math-variables"><span>Variables</span></a></li><li><a class="tocitem" href="#math-objective-function"><span>Objective Function</span></a></li><li><a class="tocitem" href="#math-constraints"><span>Constraints</span></a></li></ul></li><li><a class="tocitem" href="../45-scientific-references/">Scientific References</a></li><li><a class="tocitem" href="../50-schemas/">Data pipeline/workflow</a></li><li><a class="tocitem" href="../55-outputs/">Output Variables</a></li><li><a class="tocitem" href="../60-structures/">Model Structures</a></li><li><a class="tocitem" href="../90-contributing/">Contributing Guidelines</a></li><li><a class="tocitem" href="../91-developer/">Developer Documentation</a></li><li><a class="tocitem" href="../95-reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Mathematical Formulation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Mathematical Formulation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/main/docs/src/40-formulation.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="formulation"><a class="docs-heading-anchor" href="#formulation">Mathematical Formulation</a><a id="formulation-1"></a><a class="docs-heading-anchor-permalink" href="#formulation" title="Permalink"></a></h1><p>This section shows the mathematical formulation of <em>TulipaEnergyModel.jl</em>, assuming that the temporal definition of timesteps is the same for all the elements in the model (e.g., hourly). The <a href="../30-concepts/#concepts">concepts section</a> shows how the model handles the <a href="../30-concepts/#flex-time-res"><code>flexible temporal resolution</code></a> of assets and flows in the model.</p><ul><li><a href="#math-sets">Sets</a></li><li class="no-marker"><ul><li><a href="#Sets-for-Assets">Sets for Assets</a></li><li><a href="#Sets-for-Flows">Sets for Flows</a></li><li><a href="#Sets-for-Temporal-Structures">Sets for Temporal Structures</a></li><li><a href="#Sets-for-Groups">Sets for Groups</a></li></ul></li><li><a href="#math-parameters">Parameters</a></li><li class="no-marker"><ul><li><a href="#Parameters-for-Assets">Parameters for Assets</a></li><li><a href="#Parameters-for-Flows">Parameters for Flows</a></li><li><a href="#Parameters-for-Temporal-Structures">Parameters for Temporal Structures</a></li><li><a href="#Parameters-for-Groups">Parameters for Groups</a></li><li><a href="#Parameters-for-the-Model">Parameters for the Model</a></li><li><a href="#Extra-Parameters-for-Discounting">Extra Parameters for Discounting</a></li></ul></li><li><a href="#math-variables">Variables</a></li><li><a href="#math-objective-function">Objective Function</a></li><li class="no-marker"><ul><li><a href="#Expresssions-for-the-Objective-Function">Expresssions for the Objective Function</a></li><li><a href="#Economic-Representation-for-the-Objective-Function">Economic Representation for the Objective Function</a></li><li><a href="#Objective-Function">Objective Function</a></li></ul></li><li><a href="#math-constraints">Constraints</a></li><li class="no-marker"><ul><li><a href="#cap-constraints">Capacity Constraints</a></li><li><a href="#uc-constraints">Unit Commitment Constraints</a></li><li><a href="#ramp-constraints">Ramping Constraints</a></li><li><a href="#dc-opf-constraints">DC Power Flow Constraints</a></li><li><a href="#Constraints-for-Energy-Consumer-Assets">Constraints for Energy Consumer Assets</a></li><li><a href="#Constraints-for-Energy-Storage-Assets">Constraints for Energy Storage Assets</a></li><li><a href="#Constraints-for-Energy-Hub-Assets">Constraints for Energy Hub Assets</a></li><li><a href="#Constraints-for-Energy-Conversion-Assets">Constraints for Energy Conversion Assets</a></li><li><a href="#Constraints-for-Transport-Assets">Constraints for Transport Assets</a></li><li><a href="#Constraints-for-Investments">Constraints for Investments</a></li><li><a href="#over-clustered-year-energy-constraints">Over-clustered-year Energy Constraints</a></li><li><a href="#group-constraints">Constraints for Groups</a></li></ul></li></ul><h2 id="math-sets"><a class="docs-heading-anchor" href="#math-sets">Sets</a><a id="math-sets-1"></a><a class="docs-heading-anchor-permalink" href="#math-sets" title="Permalink"></a></h2><h3 id="Sets-for-Assets"><a class="docs-heading-anchor" href="#Sets-for-Assets">Sets for Assets</a><a id="Sets-for-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Sets-for-Assets" title="Permalink"></a></h3><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Description</th><th style="text-align: right">Elements</th><th style="text-align: right">Superset</th><th style="text-align: right">Notes</th></tr><tr><td style="text-align: right"><span>$\mathcal{A}$</span></td><td style="text-align: right">Energy assets</td><td style="text-align: right"><span>$a \in \mathcal{A}$</span></td><td style="text-align: right"></td><td style="text-align: right">The Energy asset types (i.e., consumer, producer, storage, hub, and conversion) are mutually exclusive</td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{c}}$</span></td><td style="text-align: right">Consumer energy assets</td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{c}}  \subseteq \mathcal{A}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{p}}$</span></td><td style="text-align: right">Producer energy assets</td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{p}}  \subseteq \mathcal{A}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{s}}$</span></td><td style="text-align: right">Storage energy assets</td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{s}}  \subseteq \mathcal{A}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{h}}$</span></td><td style="text-align: right">Hub energy assets (e.g., transshipment)</td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{h}}  \subseteq \mathcal{A}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{cv}}$</span></td><td style="text-align: right">Conversion energy assets</td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{cv}} \subseteq \mathcal{A}$</span></td><td style="text-align: right"></td></tr></table><p>In addition, the following asset sets represent methods for incorporating additional variables and constraints in the model.</p><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Description</th><th style="text-align: right">Elements</th><th style="text-align: right">Superset</th><th style="text-align: right">Notes</th></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{i}}_y$</span></td><td style="text-align: right">Energy assets with investment method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{i}}_y  \subseteq \mathcal{A}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{operation}}$</span></td><td style="text-align: right">Energy assets with operation mode at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{operation}}  \subseteq \mathcal{A}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{simple investment}}$</span></td><td style="text-align: right">Energy assets with simple investment method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{simple investment}}  \subseteq \mathcal{A}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{compact investment}}$</span></td><td style="text-align: right">Energy assets with compact investment method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{compact investment}}  \subseteq \mathcal{A}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{ss}}_y$</span></td><td style="text-align: right">Energy assets with seasonal method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{ss}}_y \subseteq \mathcal{A}$</span></td><td style="text-align: right">This set contains assets that use the seasonal method method. Please visit the how-to sections for <a href="../20-how-to-use/#seasonal-setup">seasonal storage</a> and <a href="../20-how-to-use/#max-min-outgoing-energy-setup">maximum/minimum outgoing energy limit</a> to learn how to set up this feature.</td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{se}}_y$</span></td><td style="text-align: right">Storage energy assets with energy method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{se}}_y \subseteq \mathcal{A}^{\text{s}}$</span></td><td style="text-align: right">This set contains storage assets that use investment energy method. Please visit the <a href="../20-how-to-use/#storage-investment-setup">how-to section</a> to learn how to set up this feature.</td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{sb}}_y$</span></td><td style="text-align: right">Storage energy assets with binary method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{sb}}_y \subseteq \mathcal{A}^{\text{s}} \setminus \mathcal{A}^{\text{ss}}_y$</span></td><td style="text-align: right">This set contains storage assets that use an extra binary variable to avoid charging and discharging simultaneously. Please visit the <a href="../20-how-to-use/#storage-binary-method-setup">how-to section</a> to learn how to set up this feature.</td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{max e}}_y$</span></td><td style="text-align: right">Energy assets with maximum outgoing energy method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{max e}}_y \subseteq \mathcal{A}$</span></td><td style="text-align: right">This set contains assets that use the maximum outgoing energy method. Please visit the <a href="../20-how-to-use/#max-min-outgoing-energy-setup">how-to section</a> to learn how to set up this feature.</td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{min e}}_y$</span></td><td style="text-align: right">Energy assets with minimum outgoing energy method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{min e}} _y\subseteq \mathcal{A}$</span></td><td style="text-align: right">This set contains assets that use the minimum outgoing energy method. Please visit the <a href="../20-how-to-use/#max-min-outgoing-energy-setup">how-to section</a> to learn how to set up this feature.</td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{uc}}_y$</span></td><td style="text-align: right">Energy assets with unit commitment method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{uc}}_y  \subseteq \mathcal{A}^{\text{cv}} \cup \mathcal{A}^{\text{p}}$</span></td><td style="text-align: right">This set contains conversion and production assets that have a unit commitment method. Please visit the <a href="../20-how-to-use/#unit-commitment-setup">how-to section</a> to learn how to set up this feature.</td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{uc basic}}_y$</span></td><td style="text-align: right">Energy assets with a basic unit commitment method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{uc basic}}_y \subseteq \mathcal{A}^{\text{uc}}_y$</span></td><td style="text-align: right">This set contains the assets that have a basic unit commitment method. Please visit the <a href="../20-how-to-use/#unit-commitment-setup">how-to section</a> to learn how to set up this feature.</td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{ramp}}_y$</span></td><td style="text-align: right">Energy assets with ramping method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{ramp}}_y  \subseteq \mathcal{A}^{\text{cv}} \cup \mathcal{A}^{\text{p}}$</span></td><td style="text-align: right">This set contains conversion and production assets that have a ramping method. Please visit the <a href="../20-how-to-use/#ramping-setup">how-to section</a> to learn how to set up this feature.</td></tr><tr><td style="text-align: right"><span>$\mathcal{A}^{\text{dc-opf}}_y$</span></td><td style="text-align: right">Energy assets with a DC power flow method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{A}^{\text{dc-opf}}_y \subseteq \mathcal{A}$</span></td><td style="text-align: right">This set contains the assets that have that use the dc-opf method.</td></tr></table><h3 id="Sets-for-Flows"><a class="docs-heading-anchor" href="#Sets-for-Flows">Sets for Flows</a><a id="Sets-for-Flows-1"></a><a class="docs-heading-anchor-permalink" href="#Sets-for-Flows" title="Permalink"></a></h3><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Description</th><th style="text-align: right">Elements</th><th style="text-align: right">Superset</th><th style="text-align: right">Notes</th></tr><tr><td style="text-align: right"><span>$\mathcal{F}$</span></td><td style="text-align: right">Flow connections between two assets</td><td style="text-align: right"><span>$f \in \mathcal{F}$</span></td><td style="text-align: right"></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{F}^{\text{in}}_{a,y}$</span></td><td style="text-align: right">Set of flows going into asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{F}^{\text{in}}_{a,y}  \subseteq \mathcal{F}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{F}^{\text{out}}_{a,y}$</span></td><td style="text-align: right">Set of flows going out of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{F}^{\text{out}}_{a,y} \subseteq \mathcal{F}$</span></td><td style="text-align: right"></td></tr></table><p>In addition, the following flow sets represent methods for incorporating additional variables and constraints in the model.</p><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Description</th><th style="text-align: right">Elements</th><th style="text-align: right">Superset</th><th style="text-align: right">Notes</th></tr><tr><td style="text-align: right"><span>$\mathcal{F}^{\text{t}}$</span></td><td style="text-align: right">Flow between two assets with a transport method</td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{F}^{\text{t}} \subseteq \mathcal{F}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{F}^{\text{ti}}_y$</span></td><td style="text-align: right">Transport flow with investment method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{F}^{\text{ti}}_y \subseteq \mathcal{F}^{\text{t}}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{F}^{\text{dc-opf}}_y$</span></td><td style="text-align: right">Flow between two assets with a DC power flow method at year <span>$y$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{F}^{\text{dc-opf}}_y \subseteq \mathcal{F}$</span></td><td style="text-align: right">This set contains flows that use the dc-opf method.</td></tr></table><h3 id="Sets-for-Temporal-Structures"><a class="docs-heading-anchor" href="#Sets-for-Temporal-Structures">Sets for Temporal Structures</a><a id="Sets-for-Temporal-Structures-1"></a><a class="docs-heading-anchor-permalink" href="#Sets-for-Temporal-Structures" title="Permalink"></a></h3><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Description</th><th style="text-align: right">Elements</th><th style="text-align: right">Superset</th><th style="text-align: right">Notes</th></tr><tr><td style="text-align: right"><span>$\mathcal{Y}$</span></td><td style="text-align: right">Milestone years</td><td style="text-align: right"><span>$y \in \mathcal{Y}$</span></td><td style="text-align: right"><span>$\mathcal{Y} \subset \mathbb{N}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{Y}^{\text{i}}_a$</span></td><td style="text-align: right">Milestone years where asset <span>$a$</span> is investable</td><td style="text-align: right"><span>$y \in \mathcal{Y}^{\text{i}}_a$</span></td><td style="text-align: right"><span>$\mathcal{Y} \subseteq \mathcal{Y}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{Y}^{\text{i}}_f$</span></td><td style="text-align: right">Milestone years where flow <span>$f$</span> is investable</td><td style="text-align: right"><span>$y \in \mathcal{Y}^{\text{i}}_f$</span></td><td style="text-align: right"><span>$\mathcal{Y} \subseteq \mathcal{Y}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{V}$</span></td><td style="text-align: right">All years</td><td style="text-align: right"><span>$v \in \mathcal{V}$</span></td><td style="text-align: right"><span>$\mathcal{V} \subset \mathbb{N}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{P}_y$</span></td><td style="text-align: right">Periods in the timeframe at year <span>$y$</span></td><td style="text-align: right"><span>$p_y \in \mathcal{P}_y$</span></td><td style="text-align: right"><span>$\mathcal{P}_y \subset \mathbb{N}$</span></td><td style="text-align: right"></td></tr><tr><td style="text-align: right"><span>$\mathcal{K}_y$</span></td><td style="text-align: right">Representative periods (rp) at year <span>$y$</span></td><td style="text-align: right"><span>$k_y \in \mathcal{K}_y$</span></td><td style="text-align: right"><span>$\mathcal{K}_y \subset \mathbb{N}$</span></td><td style="text-align: right"><span>$\mathcal{K}_y$</span> does not have to be a subset of <span>$\mathcal{P}_y$</span></td></tr><tr><td style="text-align: right"><span>$\mathcal{B}_{k_y}$</span></td><td style="text-align: right">Timesteps blocks within a representative period <span>$k_y$</span> at year <span>$y$</span></td><td style="text-align: right"><span>$b_{k_y} \in \mathcal{B}_{k_y}$</span></td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{B}_{k_y}$</span> is a partition of timesteps in a representative period <span>$k_y$</span></td></tr></table><h3 id="Sets-for-Groups"><a class="docs-heading-anchor" href="#Sets-for-Groups">Sets for Groups</a><a id="Sets-for-Groups-1"></a><a class="docs-heading-anchor-permalink" href="#Sets-for-Groups" title="Permalink"></a></h3><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Description</th><th style="text-align: right">Elements</th><th style="text-align: right">Superset</th><th style="text-align: right">Notes</th></tr><tr><td style="text-align: right"><span>$\mathcal{G}^{\text{a}}$</span></td><td style="text-align: right">Groups of energy assets</td><td style="text-align: right"><span>$g \in \mathcal{G}^{\text{a}}$</span></td><td style="text-align: right"></td><td style="text-align: right"></td></tr></table><p>In addition, the following subsets represent methods for incorporating additional constraints in the model.</p><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Description</th><th style="text-align: right">Elements</th><th style="text-align: right">Superset</th><th style="text-align: right">Notes</th></tr><tr><td style="text-align: right"><span>$\mathcal{G}^{\text{ai}}_y$</span></td><td style="text-align: right">Group of assets that share min/max investment limit</td><td style="text-align: right"></td><td style="text-align: right"><span>$\mathcal{G}^{\text{ai}}_y \subseteq \mathcal{G}^{\text{a}}$</span></td><td style="text-align: right">This set contains assets that have a group investment limit. Please visit the <a href="../20-how-to-use/#investment-group-setup">how-to section</a> to learn how to set up this feature.</td></tr></table><h2 id="math-parameters"><a class="docs-heading-anchor" href="#math-parameters">Parameters</a><a id="math-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#math-parameters" title="Permalink"></a></h2><h3 id="Parameters-for-Assets"><a class="docs-heading-anchor" href="#Parameters-for-Assets">Parameters for Assets</a><a id="Parameters-for-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-for-Assets" title="Permalink"></a></h3><h4 id="General-Parameters-for-Assets"><a class="docs-heading-anchor" href="#General-Parameters-for-Assets">General Parameters for Assets</a><a id="General-Parameters-for-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#General-Parameters-for-Assets" title="Permalink"></a></h4><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Domain</th><th style="text-align: right">Domains of Indices</th><th style="text-align: right">Description</th><th style="text-align: right">Units</th></tr><tr><td style="text-align: right"><span>$p^{\text{inv cost}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Overnight cost of a unit of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[kEUR/MW]</td></tr><tr><td style="text-align: right"><span>$p^{\text{annualized inv cost}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Annualized investment cost of a unit of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[kEUR/MW/year]</td></tr><tr><td style="text-align: right"><span>$p^{\text{salvage value}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Salvage value of a unit of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[kEUR/MW]</td></tr><tr><td style="text-align: right"><span>$p^{\text{discounting factor asset inv cost}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Discounting factor for investment cost of a unit of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[-]</td></tr><tr><td style="text-align: right"><span>$p^{\text{fixed cost}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Fixed cost of a unit of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[kEUR/MW/year]</td></tr><tr><td style="text-align: right"><span>$p^{\text{inv limit}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Investment potential of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[MW]</td></tr><tr><td style="text-align: right"><span>$p^{\text{capacity}}_{a}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}$</span></td><td style="text-align: right">Capacity per unit of asset <span>$a$</span></td><td style="text-align: right">[MW]</td></tr><tr><td style="text-align: right"><span>$p^{\text{technical lifetime}}_{a}$</span></td><td style="text-align: right"><span>$\mathbb{Z}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}$</span></td><td style="text-align: right">Technical lifetime of asset <span>$a$</span></td><td style="text-align: right">[year]</td></tr><tr><td style="text-align: right"><span>$p^{\text{economic lifetime}}_{a}$</span></td><td style="text-align: right"><span>$\mathbb{Z}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}$</span></td><td style="text-align: right">Economic lifetime of asset <span>$a$</span></td><td style="text-align: right">[year]</td></tr><tr><td style="text-align: right"><span>$p^{\text{technology-specific discount rate}}_{a}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}$</span></td><td style="text-align: right">Technology-specific discount rate of asset <span>$a$</span></td><td style="text-align: right">[year]</td></tr><tr><td style="text-align: right"><span>$p^{\text{init units}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Initial number of units of asset <span>$a$</span> available at year <span>$y$</span></td><td style="text-align: right">[units]</td></tr><tr><td style="text-align: right"><span>$p^{\text{init units}}_{a,y,v}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right">$ (a,y,v) \in \mathcal{D}^{\text{compact investment}}$</td><td style="text-align: right">Initial number of units of asset <span>$a$</span> available at year <span>$y$</span> commissioned in year <span>$v$</span></td><td style="text-align: right">[units]</td></tr><tr><td style="text-align: right"><span>$p^{\text{availability profile}}_{a,v,k_y,b_{k_y}}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}$</span>, <span>$v \in \mathcal{V}$</span>, <span>$k_y \in \mathcal{K}_y$</span>, <span>$b_{k_y} \in \mathcal{B_{k_y}}$</span></td><td style="text-align: right">Availability profile of asset <span>$a$</span> invested in year <span>$v$</span> in the representative period <span>$k_y$</span> and timestep block <span>$b_{k_y}$</span></td><td style="text-align: right">[p.u.]</td></tr><tr><td style="text-align: right"><span>$p^{\text{group}}_{a}$</span></td><td style="text-align: right"><span>$\mathcal{G}^{\text{a}}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}$</span></td><td style="text-align: right">Group <span>$g$</span> to which the asset <span>$a$</span> belongs</td><td style="text-align: right">[-]</td></tr></table><h4 id="Extra-Parameters-for-Consumer-Assets"><a class="docs-heading-anchor" href="#Extra-Parameters-for-Consumer-Assets">Extra Parameters for Consumer Assets</a><a id="Extra-Parameters-for-Consumer-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Extra-Parameters-for-Consumer-Assets" title="Permalink"></a></h4><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Domain</th><th style="text-align: right">Domains of Indices</th><th style="text-align: right">Description</th><th style="text-align: right">Units</th></tr><tr><td style="text-align: right"><span>$p^{\text{peak demand}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{c}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Peak demand of consumer asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[MW]</td></tr><tr><td style="text-align: right"><span>$p^{\text{demand profile}}_{a,k_y,b_{k_y}}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{c}}}$</span>, , <span>$y \in \mathcal{Y}$</span>, <span>$k_y \in \mathcal{K}_y$</span>, <span>$b_{k_y} \in \mathcal{B_{k_y}}$</span></td><td style="text-align: right">Demand profile of consumer asset <span>$a$</span> in the representative period <span>$k_y$</span> and timestep block <span>$b_{k_y}$</span></td><td style="text-align: right">[p.u.]</td></tr></table><h4 id="Extra-Parameters-for-Storage-Assets"><a class="docs-heading-anchor" href="#Extra-Parameters-for-Storage-Assets">Extra Parameters for Storage Assets</a><a id="Extra-Parameters-for-Storage-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Extra-Parameters-for-Storage-Assets" title="Permalink"></a></h4><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Domain</th><th style="text-align: right">Domains of Indices</th><th style="text-align: right">Description</th><th style="text-align: right">Units</th></tr><tr><td style="text-align: right"><span>$p^{\text{init storage units}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{s}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Initial storage units of storage asset <span>$a$</span> available at year <span>$y$</span></td><td style="text-align: right">[units]</td></tr><tr><td style="text-align: right"><span>$p^{\text{init storage level}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{s}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Initial storage level of storage asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[MWh]</td></tr><tr><td style="text-align: right"><span>$p^{\text{inflows}}_{a,k_y,b_{k_y}}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{s}}}$</span>, <span>$k_y \in \mathcal{K}_y$</span>, <span>$b_{k_y} \in \mathcal{B_{k_y}}$</span></td><td style="text-align: right">Inflows of storage asset <span>$a$</span> in the representative period <span>$k_y$</span> and timestep block <span>$b_{k_y}$</span></td><td style="text-align: right">[MWh]</td></tr><tr><td style="text-align: right"><span>$p^{\text{inv cost energy}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{se}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Overnight cost of a energy unit of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[kEUR/MWh]</td></tr><tr><td style="text-align: right"><span>$p^{\text{fixed cost energy}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{se}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Fixed cost of a energy unit of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[kEUR/MWh/year]</td></tr><tr><td style="text-align: right"><span>$p^{\text{inv limit energy}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{se}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Investment energy potential of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[MWh]</td></tr><tr><td style="text-align: right"><span>$p^{\text{energy capacity}}_{a}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{se}}$</span></td><td style="text-align: right">Energy capacity of a unit of investment of the asset <span>$a$</span></td><td style="text-align: right">[MWh]</td></tr><tr><td style="text-align: right"><span>$p^{\text{energy to power ratio}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{s}} \setminus \mathcal{A}^{\text{se}}_y$</span></td><td style="text-align: right">Energy to power ratio of storage asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[h]</td></tr><tr><td style="text-align: right"><span>$p^{\text{max rep-period-storage level}}_{a,k_y,b_{k_y}}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{s}}} \setminus \mathcal{A^{\text{ss}}}_y$</span>, <span>$k_y \in \mathcal{K}_y$</span>, <span>$b_{k_y} \in \mathcal{B_{k_y}}$</span></td><td style="text-align: right">Maximum rep-period-storage level profile of storage asset <span>$a$</span> in representative period <span>$k_y$</span> and timestep block <span>$b_{k_y}$</span></td><td style="text-align: right">[p.u.]</td></tr><tr><td style="text-align: right"><span>$p^{\text{min rep-period-storage level}}_{a,k_y,b_{k_y}}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{s}}} \setminus \mathcal{A^{\text{ss}}}_y$</span>, <span>$k_y \in \mathcal{K}_y$</span>, <span>$b_{k_y} \in \mathcal{B_{k_y}}$</span></td><td style="text-align: right">Minimum rep-period-storage level profile of storage asset <span>$a$</span> in representative period <span>$k_y$</span> and timestep block <span>$b_{k_y}$</span></td><td style="text-align: right">[p.u.]</td></tr><tr><td style="text-align: right"><span>$p^{\text{max over-clustered-year-storage level}}_{a,p_y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{ss}}}_y$</span>, <span>$p_y \in \mathcal{P}_y$</span></td><td style="text-align: right">Maximum over-clustered-year-storage level profile of storage asset <span>$a$</span> in the period <span>$p_y$</span> of the timeframe</td><td style="text-align: right">[p.u.]</td></tr><tr><td style="text-align: right"><span>$p^{\text{min over-clustered-year-storage level}}_{a,p_y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{ss}}}_y$</span>, <span>$p_y \in \mathcal{P}_y$</span></td><td style="text-align: right">Minimum over-clustered-year-storage level profile of storage asset <span>$a$</span> in the period <span>$p_y$</span> of the timeframe</td><td style="text-align: right">[p.u.]</td></tr><tr><td style="text-align: right"><span>$p^{\text{storage loss from stored energy}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{s}}}$</span>, <span>$y \in \mathcal{Y}_y$</span></td><td style="text-align: right">[e.g. 0.01 means 1% every hour] Loss of stored energy over time.</td><td style="text-align: right">[p.u./h]</td></tr></table><h4 id="Extra-Parameters-for-Energy-Constraints"><a class="docs-heading-anchor" href="#Extra-Parameters-for-Energy-Constraints">Extra Parameters for Energy Constraints</a><a id="Extra-Parameters-for-Energy-Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Extra-Parameters-for-Energy-Constraints" title="Permalink"></a></h4><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Domain</th><th style="text-align: right">Domains of Indices</th><th style="text-align: right">Description</th><th style="text-align: right">Units</th></tr><tr><td style="text-align: right"><span>$p^{\text{min over-clustered-year-storage profile}}_{a,p_y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{min e}}}_y$</span>, <span>$p_y \in \mathcal{P}_y$</span></td><td style="text-align: right">Minimum outgoing over-clustered-year energy profile of asset <span>$a$</span> in the period <span>$p_y$</span> of the timeframe</td><td style="text-align: right">[p.u.]</td></tr><tr><td style="text-align: right"><span>$p^{\text{max over-clustered-year-storage profile}}_{a,p_y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{max e}}}_y$</span>, <span>$p_y \in \mathcal{P}_y$</span></td><td style="text-align: right">Maximum outgoing over-clustered-year energy profile of asset <span>$a$</span> in the period <span>$p_y$</span> of the timeframe</td><td style="text-align: right">[p.u.]</td></tr><tr><td style="text-align: right"><span>$p^{\text{max energy}}_{a,p_y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{max e}}}_y$</span></td><td style="text-align: right">Maximum outgoing over-clustered-year energy value of asset <span>$a$</span></td><td style="text-align: right">[MWh]</td></tr><tr><td style="text-align: right"><span>$p^{\text{min energy}}_{a,p_y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{min e}}}_y$</span></td><td style="text-align: right">Minimum outgoing over-clustered-year energy value of asset <span>$a$</span></td><td style="text-align: right">[MWh]</td></tr></table><h4 id="Extra-Parameters-for-Producers-and-Conversion-Assets"><a class="docs-heading-anchor" href="#Extra-Parameters-for-Producers-and-Conversion-Assets">Extra Parameters for Producers and Conversion Assets</a><a id="Extra-Parameters-for-Producers-and-Conversion-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Extra-Parameters-for-Producers-and-Conversion-Assets" title="Permalink"></a></h4><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Domain</th><th style="text-align: right">Domains of Indices</th><th style="text-align: right">Description</th><th style="text-align: right">Units</th></tr><tr><td style="text-align: right"><span>$p^{\text{min operating point}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{uc}}}_y$</span></td><td style="text-align: right">Minimum operating point or minimum stable generation level defined as a portion of the capacity of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[p.u.]</td></tr><tr><td style="text-align: right"><span>$p^{\text{units on cost}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{uc}}}_y$</span></td><td style="text-align: right">Objective function coefficient on <code>units_on</code> variable. e.g., no-load cost or idling cost of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[kEUR/h/units]</td></tr><tr><td style="text-align: right"><span>$p^{\text{max ramp up}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{ramp}}}_y$</span></td><td style="text-align: right">Maximum ramping up rate as a portion of the capacity of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[p.u./h]</td></tr><tr><td style="text-align: right"><span>$p^{\text{max ramp down}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{ramp}}}_y$</span></td><td style="text-align: right">Maximum ramping down rate as a portion of the capacity of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[p.u./h]</td></tr></table><h3 id="Parameters-for-Flows"><a class="docs-heading-anchor" href="#Parameters-for-Flows">Parameters for Flows</a><a id="Parameters-for-Flows-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-for-Flows" title="Permalink"></a></h3><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Domain</th><th style="text-align: right">Domains of Indices</th><th style="text-align: right">Description</th><th style="text-align: right">Units</th></tr><tr><td style="text-align: right"><span>$p^{\text{variable cost}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Variable cost of flow <span>$f$</span> at year <span>$y$</span></td><td style="text-align: right">[kEUR/MWh]</td></tr><tr><td style="text-align: right"><span>$p^{\text{eff}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Efficiency of flow <span>$f$</span> at year <span>$y$</span></td><td style="text-align: right">[p.u.]</td></tr><tr><td style="text-align: right"><span>$p^{\text{reactance}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Reactance of flow <span>$f$</span> at year <span>$y$</span></td><td style="text-align: right">[p.u.]</td></tr><tr><td style="text-align: right"><span>$p^{\text{capacity coefficient}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Coefficient that multiplies the flow <span>$f$</span> at year <span>$y$</span> in the capacity constraints</td><td style="text-align: right">[-]</td></tr><tr><td style="text-align: right"><span>$p^{\text{inv cost}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{t}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Overnight cost of transport flow <span>$f$</span> at year <span>$y$</span></td><td style="text-align: right">[kEUR/MW]</td></tr><tr><td style="text-align: right"><span>$p^{\text{annualized inv cost}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{t}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Annualized investment cost of transport flow <span>$f$</span> at year <span>$y$</span></td><td style="text-align: right">[kEUR/MW/year]</td></tr><tr><td style="text-align: right"><span>$p^{\text{salvage value}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{t}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Salvage value of transport flow <span>$f$</span> at year <span>$y$</span></td><td style="text-align: right">[kEUR/MW]</td></tr><tr><td style="text-align: right"><span>$p^{\text{discounting factor flow inv cost}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{t}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Discounting factor for investment cost of transport flow <span>$f$</span> at year <span>$y$</span></td><td style="text-align: right">[-]</td></tr><tr><td style="text-align: right"><span>$p^{\text{fixed cost}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{t}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Fixed cost of transport flow <span>$f$</span> at year <span>$y$</span></td><td style="text-align: right">[kEUR/MW/year]</td></tr><tr><td style="text-align: right"><span>$p^{\text{inv limit}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{t}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Investment potential of flow <span>$f$</span> at year <span>$y$</span></td><td style="text-align: right">[MW]</td></tr><tr><td style="text-align: right"><span>$p^{\text{capacity}}_{f}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{t}}$</span></td><td style="text-align: right">Capacity per unit of investment of transport flow <span>$f$</span> (both exports and imports)</td><td style="text-align: right">[MW]</td></tr><tr><td style="text-align: right"><span>$p^{\text{technical lifetime}}_{f}$</span></td><td style="text-align: right"><span>$\mathbb{Z}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{t}}$</span></td><td style="text-align: right">Technical lifetime of investment of transport flow <span>$f$</span> (both exports and imports)</td><td style="text-align: right">[year]</td></tr><tr><td style="text-align: right"><span>$p^{\text{economic lifetime}}_{f}$</span></td><td style="text-align: right"><span>$\mathbb{Z}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{t}}$</span></td><td style="text-align: right">Economic lifetime of investment of transport flow <span>$f$</span> (both exports and imports)</td><td style="text-align: right">[year]</td></tr><tr><td style="text-align: right"><span>$p^{\text{technology-specific discount rate}}_{f}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{t}}$</span></td><td style="text-align: right">Technology-specific discount rate of investment of transport flow <span>$f$</span> (both exports and imports)</td><td style="text-align: right">[year]</td></tr><tr><td style="text-align: right"><span>$p^{\text{init export units}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{t}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Initial export units of transport flow <span>$f$</span> available at year <span>$y$</span></td><td style="text-align: right">[MW]</td></tr><tr><td style="text-align: right"><span>$p^{\text{init import units}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{t}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Initial import units of transport flow <span>$f$</span> available at year <span>$y$</span></td><td style="text-align: right">[MW]</td></tr><tr><td style="text-align: right"><span>$p^{\text{availability profile}}_{f,v,k_y,b_{k_y}}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{F}$</span>, <span>$v \in \mathcal{V}$</span>, <span>$k_y \in \mathcal{K}_y$</span>, <span>$b_{k_y} \in \mathcal{B_{k_y}}$</span></td><td style="text-align: right">Availability profile of flow <span>$f$</span> invested in year <span>$v$</span> in the representative period <span>$k_y$</span> and timestep block <span>$b_{k_y}$</span></td><td style="text-align: right">[p.u.]</td></tr></table><h3 id="Parameters-for-Temporal-Structures"><a class="docs-heading-anchor" href="#Parameters-for-Temporal-Structures">Parameters for Temporal Structures</a><a id="Parameters-for-Temporal-Structures-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-for-Temporal-Structures" title="Permalink"></a></h3><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Domain</th><th style="text-align: right">Domains of Indices</th><th style="text-align: right">Description</th><th style="text-align: right">Units</th></tr><tr><td style="text-align: right"><span>$p^{\text{duration}}_{b_{k_y}}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$b_{k_y} \in \mathcal{B_{k_y}}$</span></td><td style="text-align: right">Duration of the timestep blocks <span>$b_{k_y}$</span></td><td style="text-align: right">[h]</td></tr><tr><td style="text-align: right"><span>$p^{\text{rp weight}}_{k_y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$k_y \in \mathcal{K}_y$</span></td><td style="text-align: right">Weight of representative period <span>$k_y$</span></td><td style="text-align: right">[-]</td></tr><tr><td style="text-align: right"><span>$p^{\text{map}}_{p_y,k_y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$p_y \in \mathcal{P}_y$</span>, <span>$k_y \in \mathcal{K}_y$</span></td><td style="text-align: right">Map with the weight of representative period <span>$k_y$</span> in period <span>$p_y$</span></td><td style="text-align: right">[-]</td></tr></table><h3 id="Parameters-for-Groups"><a class="docs-heading-anchor" href="#Parameters-for-Groups">Parameters for Groups</a><a id="Parameters-for-Groups-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-for-Groups" title="Permalink"></a></h3><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Domain</th><th style="text-align: right">Domains of Indices</th><th style="text-align: right">Description</th><th style="text-align: right">Units</th></tr><tr><td style="text-align: right"><span>$p^{\text{min invest limit}}_{g,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$g \in \mathcal{G}^{\text{ai}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Minimum investment limit (potential) of group <span>$g$</span> at year <span>$y$</span></td><td style="text-align: right">[MW]</td></tr><tr><td style="text-align: right"><span>$p^{\text{max invest limit}}_{g,y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$g \in \mathcal{G}^{\text{ai}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Maximum investment limit (potential) of group <span>$g$</span> at year <span>$y$</span></td><td style="text-align: right">[MW]</td></tr></table><h3 id="Parameters-for-the-Model"><a class="docs-heading-anchor" href="#Parameters-for-the-Model">Parameters for the Model</a><a id="Parameters-for-the-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters-for-the-Model" title="Permalink"></a></h3><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Domain</th><th style="text-align: right">Description</th><th style="text-align: right">Units</th></tr><tr><td style="text-align: right"><span>$p^{\text{social discount rate}}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right">Social discount rate</td><td style="text-align: right">[-]</td></tr><tr><td style="text-align: right"><span>$p^{\text{discount year}}$</span></td><td style="text-align: right"><span>$\mathbb{Z}_{+}$</span></td><td style="text-align: right">Discount year</td><td style="text-align: right">[year]</td></tr><tr><td style="text-align: right"><span>$p^{\text{power system base}}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right">Power system base</td><td style="text-align: right">[MVA]</td></tr></table><h3 id="Extra-Parameters-for-Discounting"><a class="docs-heading-anchor" href="#Extra-Parameters-for-Discounting">Extra Parameters for Discounting</a><a id="Extra-Parameters-for-Discounting-1"></a><a class="docs-heading-anchor-permalink" href="#Extra-Parameters-for-Discounting" title="Permalink"></a></h3><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Domain</th><th style="text-align: right">Domains of Indices</th><th style="text-align: right">Description</th><th style="text-align: right">Units</th></tr><tr><td style="text-align: right"><span>$p^{\text{discounting factor operation cost}}_{y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Discounting factor for operation cost at year <span>$y$</span></td><td style="text-align: right">[-]</td></tr></table><h2 id="math-variables"><a class="docs-heading-anchor" href="#math-variables">Variables</a><a id="math-variables-1"></a><a class="docs-heading-anchor-permalink" href="#math-variables" title="Permalink"></a></h2><table><tr><th style="text-align: right">Name</th><th style="text-align: right">Domain</th><th style="text-align: right">Domains of Indices</th><th style="text-align: right">Description</th><th style="text-align: right">Units</th></tr><tr><td style="text-align: right"><span>$v^{\text{flow}}_{f,k_y,b_{k_y}}$</span></td><td style="text-align: right"><span>$\mathbb{R}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}$</span>, <span>$k_y \in \mathcal{K}_y$</span>, <span>$b_{k_y} \in \mathcal{B_{k_y}}$</span></td><td style="text-align: right">Flow <span>$f$</span> between two assets in representative period <span>$k_y$</span> and timestep block <span>$b_{k_y}$</span></td><td style="text-align: right">[MW]</td></tr><tr><td style="text-align: right"><span>$v^{\text{inv}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{Z}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{i}}_y$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Number of invested units of asset <span>$a$</span> at year <span>$y$</span></td><td style="text-align: right">[units]</td></tr><tr><td style="text-align: right"><span>$v^{\text{decom simple}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{Z}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{simple investment}}$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Number of decommissioned units of asset <span>$a$</span> that uses simple investment method at year <span>$y$</span></td><td style="text-align: right">[units]</td></tr><tr><td style="text-align: right"><span>$v^{\text{decom compact}}_{a,y,v}$</span></td><td style="text-align: right"><span>$\mathbb{Z}_{+}$</span></td><td style="text-align: right">$ (a,y,v) \in \mathcal{D}^{\text{compact investment}}$</td><td style="text-align: right">Number of decommissioned units of asset <span>$a$</span> commissioned in year <span>$v$</span> that uses compact investment method at year <span>$y$</span></td><td style="text-align: right">[units]</td></tr><tr><td style="text-align: right"><span>$v^{\text{inv energy}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{Z}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{i}}_y \cap \mathcal{A}^{\text{se}}_y$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Number of invested units of the energy component of the storage asset <span>$a$</span> that uses energy method at year <span>$y$</span></td><td style="text-align: right">[units]</td></tr><tr><td style="text-align: right"><span>$v^{\text{decom energy simple}}_{a,y}$</span></td><td style="text-align: right"><span>$\mathbb{Z}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{i}}_y \cap \mathcal{A}^{\text{se}}_y$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Number of decommissioned units of the energy component of the storage asset <span>$a$</span> that uses energy method at year <span>$y$</span></td><td style="text-align: right">[units]</td></tr><tr><td style="text-align: right"><span>$v^{\text{inv}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{Z}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{ti}}_y$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Number of invested units of capacity increment of transport flow <span>$f$</span> at year <span>$y$</span></td><td style="text-align: right">[units]</td></tr><tr><td style="text-align: right"><span>$v^{\text{decom simple}}_{f,y}$</span></td><td style="text-align: right"><span>$\mathbb{Z}_{+}$</span></td><td style="text-align: right"><span>$f \in \mathcal{F}^{\text{ti}}_y$</span>, <span>$y \in \mathcal{Y}$</span></td><td style="text-align: right">Number of decommissioned units of capacity increment of transport flow <span>$f$</span> at year <span>$y$</span></td><td style="text-align: right">[units]</td></tr><tr><td style="text-align: right"><span>$v^{\text{rep-period-storage}}_{a,k_y,b_{k_y}}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{s}}_y \setminus \mathcal{A}^{\text{ss}}_y$</span>, <span>$k_y \in \mathcal{K}_y$</span>, <span>$b_{k_y} \in \mathcal{B_{k_y}}$</span></td><td style="text-align: right">Rep-period-storage level for storage asset <span>$a$</span>, representative period <span>$k_y$</span>, and timestep block <span>$b_{k_y}$</span></td><td style="text-align: right">[MWh]</td></tr><tr><td style="text-align: right"><span>$v^{\text{over-clustered-year-storage}}_{a,p_y}$</span></td><td style="text-align: right"><span>$\mathbb{R}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A^{\text{ss}}}_y$</span>, <span>$p_y \in \mathcal{P}_y$</span></td><td style="text-align: right">Over-clustered-year-storage level for storage asset <span>$a$</span> and period <span>$p_y$</span></td><td style="text-align: right">[MWh]</td></tr><tr><td style="text-align: right"><span>$v^{\text{is charging}}_{a,k_y,b_{k_y}}$</span></td><td style="text-align: right"><span>$\{0, 1\}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{sb}}_y$</span>, <span>$k_y \in \mathcal{K}_y$</span>, <span>$b_{k_y} \in \mathcal{B_{k_y}}$</span></td><td style="text-align: right">If an storage asset <span>$a$</span> is charging or not in representative period <span>$k_y$</span> and timestep block <span>$b_{k_y}$</span></td><td style="text-align: right">[-]</td></tr><tr><td style="text-align: right"><span>$v^{\text{angle}}_{a,k_y,b_{k_y}}$</span></td><td style="text-align: right"><span>$\mathbb{R}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{dc-opf}}_y$</span>, <span>$k_y \in \mathcal{K}_y$</span>, <span>$b_{k_y} \in \mathcal{B_{k_y}}$</span></td><td style="text-align: right">Electricity angle of asset <span>$a$</span> in representative period <span>$k_y$</span> and timestep block <span>$b_{k_y}$</span></td><td style="text-align: right">[rad]</td></tr><tr><td style="text-align: right"><span>$v^{\text{units on}}_{a,k_y,b_{k_y}}$</span></td><td style="text-align: right"><span>$\mathbb{Z}_{+}$</span></td><td style="text-align: right"><span>$a \in \mathcal{A}^{\text{uc}}_y$</span>, <span>$k_y \in \mathcal{K}_y$</span>, <span>$b_{k_y} \in \mathcal{B_{k_y}}$</span></td><td style="text-align: right">Number of units ON of asset <span>$a$</span> in representative period <span>$k_y$</span> and timestep block <span>$b_{k_y}$</span></td><td style="text-align: right">[units]</td></tr></table><h2 id="math-objective-function"><a class="docs-heading-anchor" href="#math-objective-function">Objective Function</a><a id="math-objective-function-1"></a><a class="docs-heading-anchor-permalink" href="#math-objective-function" title="Permalink"></a></h2><h3 id="Expresssions-for-the-Objective-Function"><a class="docs-heading-anchor" href="#Expresssions-for-the-Objective-Function">Expresssions for the Objective Function</a><a id="Expresssions-for-the-Objective-Function-1"></a><a class="docs-heading-anchor-permalink" href="#Expresssions-for-the-Objective-Function" title="Permalink"></a></h3><p>There are two types of investment methods for multi-year investment modelling: simple method and compact method. The simple method aggregates all units available in a year, regardless of when they were invested. The compact method tracks availability by investment and operational year, enabling vintage-specific constraints while reducing model size. For more information on this topic, refer to the <a href="../20-how-to-use/#how-to-use">How to use</a> or <a href="../45-scientific-references/#scientific-refs">Wang and Morales-España (2025)</a>.</p><p>For available units across years, we define the following expresssions:</p><p class="math-container">\[\begin{aligned}
    v^{\text{available units simple method}}_{a,y} &amp; = p^{\text{initial units}}_{a,y} + \sum_{i \in \{\mathcal{Y}^\text{i}_a: y - p^{\text{technical lifetime}}_{a} + 1  \le i \le y \}}  v^{\text{inv}}_{a,i} - \sum_{i \in \{\mathcal{Y}: y - p^{\text{technical lifetime}}_{a} + 1  \le i \le y \}} v^{\text{decom simple}}_{a,i} \\
    &amp; \forall a \in \mathcal{A}^{\text{simple investment}} \cup \mathcal{A}^{\text{operation}}, \forall y \in \mathcal{Y} \\
    v^{\text{available units compact method}}_{a,y,v} &amp; = p^{\text{initial units}}_{a,y,v} + v^{\text{inv}}_{a,v} - \sum_{i \in \{\mathcal{Y}: v &lt; i \le y\} | (a,i,v) \in \mathcal{D}^{\text{compact investment}}} v^{\text{decom compact}}_{a,i,v}
 \\
    &amp; \forall (a,y,v) \in \mathcal{D}^{\text{compact investment}} \\
    v^{\text{available energy units simple method}}_{a,y} &amp; = p^{\text{initial storage units}}_{a,y} + \sum_{i \in \{\mathcal{Y}^\text{i}_a: y - p^{\text{technical lifetime}}_{a} + 1  \le i \le y \}}  v^{\text{inv energy}}_{a,i} - \sum_{i \in \{\mathcal{Y}: y - p^{\text{technical lifetime}}_{a} + 1  \le i \le y \}} v^{\text{decom energy simple}}_{a,i} \\
    &amp; \forall a \in \mathcal{A}^{\text{se}}_y, \forall y \in \mathcal{Y} \\
    v^{\text{available export units simple method}}_{f,y} &amp; = p^{\text{initial export units}}_{f,y} + \sum_{i \in \{\mathcal{Y}^\text{i}_f: y - p^{\text{technical lifetime}}_{f} + 1  \le i \le y \}}  v^{\text{inv}}_{f,i} - \sum_{i \in \{\mathcal{Y}: y - p^{\text{technical lifetime}}_{f} + 1  \le i \le y \}} v^{\text{decom simple}}_{f,i} \\
    &amp; \forall f \in \mathcal{F}^{\text{t}}_y, \forall y \in \mathcal{Y} \\
    v^{\text{available import units simple method}}_{f,y} &amp; = p^{\text{initial import units}}_{f,y} + \sum_{i \in \{\mathcal{Y}^\text{i}_f: y - p^{\text{technical lifetime}}_{f} + 1  \le i \le y \}}  v^{\text{inv}}_{f,i} - \sum_{i \in \{\mathcal{Y}: y - p^{\text{technical lifetime}}_{f} + 1  \le i \le y \}} v^{\text{decom simple}}_{f,i} \\
    &amp; \forall f \in \mathcal{F}^{\text{t}}_y, \forall y \in \mathcal{Y} \\
\end{aligned}\]</p><p>In addition, we define the following expressions to determine the available units. This expression takes a few forms depending on whether the asset uses simple or compact investment method.</p><ul><li>If the asset uses simple investment method</li></ul><p class="math-container">\[\begin{aligned}
    v^{\text{available units}}_{a,y} &amp; = v^{\text{available units simple method}}_{a,y} \quad \forall a \in \mathcal{A}, \forall y \in \mathcal{Y}
\end{aligned}\]</p><ul><li>If the asset uses compact investment method</li></ul><p class="math-container">\[\begin{aligned}
    v^{\text{available units}}_{a,y} &amp; = \sum_{v \in \mathcal{V} | (a,y,v) \in \mathcal{D}^{\text{compact investment}}} v^{\text{available units compact method}}_{a,y,v} \quad \forall a \in \mathcal{A}, \forall y \in \mathcal{Y}
\end{aligned}\]</p><ul><li>Storage assets with energy method always use simple investment method</li></ul><p class="math-container">\[\begin{aligned}
    v^{\text{available energy units}}_{a,y} &amp; = v^{\text{available energy units simple method}}_{a,y} \quad \forall a \in \mathcal{A}^{\text{se}}_y, \forall y \in \mathcal{Y}
\end{aligned}\]</p><ul><li>Transport assets always use simple investment method</li></ul><p class="math-container">\[\begin{aligned}
    v^{\text{available export units}}_{f,y} &amp; = v^{\text{available export units simple method}}_{f,y} \quad \forall f \in \mathcal{F}^{\text{t}}_y, \forall y \in \mathcal{Y} \\
    v^{\text{available import units}}_{f,y} &amp; = v^{\text{available import units simple method}}_{f,y} \quad \forall f \in \mathcal{F}^{\text{t}}_y, \forall y \in \mathcal{Y}
\end{aligned}\]</p><h3 id="Economic-Representation-for-the-Objective-Function"><a class="docs-heading-anchor" href="#Economic-Representation-for-the-Objective-Function">Economic Representation for the Objective Function</a><a id="Economic-Representation-for-the-Objective-Function-1"></a><a class="docs-heading-anchor-permalink" href="#Economic-Representation-for-the-Objective-Function" title="Permalink"></a></h3><p>The model accounts for discounting in multi-year investment modelling. For more information on this topic, refer to the <a href="../20-how-to-use/#how-to-use">How to use</a> or <a href="../45-scientific-references/#scientific-refs">Wang and Tejada-Arango (2025)</a>.</p><h4 id="Discounting-Factor-for-Asset-Investment-Costs"><a class="docs-heading-anchor" href="#Discounting-Factor-for-Asset-Investment-Costs">Discounting Factor for Asset Investment Costs</a><a id="Discounting-Factor-for-Asset-Investment-Costs-1"></a><a class="docs-heading-anchor-permalink" href="#Discounting-Factor-for-Asset-Investment-Costs" title="Permalink"></a></h4><p class="math-container">\[p_{a, y}^{\text{discounting factor asset inv cost}}=\frac{1}{(1+p^{\text{social discount rate}})^{y-p^{\text{discount year}}}}(1-\frac{p_{a, y}^{\text{salvage value}}}{p_{a, y}^{\text{inv cost}}}) \quad \forall a \in \mathcal{A}_y^{\text{i}}, \forall y \in \mathcal{Y}\]</p><p>where salvage value is</p><p class="math-container">\[p^{\text{salvage value}}_{a, y} = p^{\text{annualized inv cost}}_{a, y} \sum_{i=y^{\text{last}}+1}^{y + p^{\text{economic lifetime}}_{a, y} - 1} \frac{1}{(1 + p^{\text{technology-specific discount rate}}_{a, y})^{i - y} } \quad \forall a \in \mathcal{A}_y^{\text{i}}, \forall y \in \mathcal{Y}\]</p><p>and where annualized cost is</p><p class="math-container">\[p^{\text{annualized inv cost}}_{a, y} = \frac{p^{\text{technology-specific discount rate}}_{a, y}}{ (1+p^{\text{technology-specific discount rate}}_{a, y}) \cdot \bigg( 1 - \frac{1}{ (1+p^{\text{technology-specific discount rate}}_{a, y})^{p^{\text{economic lifetime}}_{a, y}} } \bigg) } p^{\text{inv cost}}_{a, y} \quad \forall a \in \mathcal{A}_y^{\text{i}}, \forall y \in \mathcal{Y}\]</p><h4 id="Discounting-Factor-for-Flow-Investment-Costs"><a class="docs-heading-anchor" href="#Discounting-Factor-for-Flow-Investment-Costs">Discounting Factor for Flow Investment Costs</a><a id="Discounting-Factor-for-Flow-Investment-Costs-1"></a><a class="docs-heading-anchor-permalink" href="#Discounting-Factor-for-Flow-Investment-Costs" title="Permalink"></a></h4><p class="math-container">\[p_{f, y}^{\text{discounting factor flow inv cost}}=\frac{1}{(1+p^{\text{social discount rate}})^{y-p^{\text{discount year}}}}(1-\frac{p_{f, y}^{\text{salvage value}}}{p_{f, y}^{\text{inv cost}}}) \quad \forall f \in \mathcal{F}_y^{\text{ti}}, \forall y \in \mathcal{Y}\]</p><p>where salvage value is</p><p class="math-container">\[p^{\text{salvage value}}_{f, y} = p^{\text{annualized inv cost}}_{f, y} \sum_{i=y^{\text{last}}+1}^{y + p^{\text{economic lifetime}}_{f, y} - 1} \frac{1}{(1 + p^{\text{technology-specific discount rate}}_{f, y})^{i - y} } \quad \forall f \in \mathcal{F}_y^{\text{ti}}, \forall y \in \mathcal{Y}\]</p><p>and where annualized cost is</p><p class="math-container">\[p^{\text{annualized inv cost}}_{f, y} = \frac{p^{\text{technology-specific discount rate}}_{f, y}}{ (1+p^{\text{technology-specific discount rate}}_{f, y}) \cdot \bigg( 1 - \frac{1}{ (1+p^{\text{technology-specific discount rate}}_{f, y})^{p^{\text{economic lifetime}}_{f, y}} } \bigg) } p^{\text{inv cost}}_{f, y} \quad \forall f \in \mathcal{F}_y^{\text{ti}}, \forall y \in \mathcal{Y}\]</p><h4 id="Discounting-Factor-for-Operation-Costs"><a class="docs-heading-anchor" href="#Discounting-Factor-for-Operation-Costs">Discounting Factor for Operation Costs</a><a id="Discounting-Factor-for-Operation-Costs-1"></a><a class="docs-heading-anchor-permalink" href="#Discounting-Factor-for-Operation-Costs" title="Permalink"></a></h4><p class="math-container">\[p_{y}^{\text{discounting factor operation cost}}= \sum^{\text{next}(y)-1}_{y`=y} \frac{1}{(1+p^{\text{social discount rate}})^{y`-p^{\text{discount year}}}} \quad \forall y \in \mathcal{Y}\]</p><p>This definition of the discount factor at year <span>$y$</span> includes the discounts for the range of years from the milestone year <span>$y$</span> to the next milestone year <span>$y+1$</span>, i.e., {<span>$y$</span>, <span>$y$</span>+1, ..., next(<span>$y$</span>)-1}, so the discounts at the non-modeled years are also correctly considered. When <span>$y$</span>=last(<span>$y$</span>), only the discount at year <span>$y$</span> is included.</p><h3 id="Objective-Function"><a class="docs-heading-anchor" href="#Objective-Function">Objective Function</a><a id="Objective-Function-1"></a><a class="docs-heading-anchor-permalink" href="#Objective-Function" title="Permalink"></a></h3><p class="math-container">\[\begin{aligned}
\text{{minimize}} \quad &amp; assets\_investment\_cost + assets\_fixed\_cost \\
                        &amp; + flows\_investment\_cost + flows\_fixed\_cost \\
                        &amp; + flows\_variable\_cost + unit\_on\_cost
\end{aligned}\]</p><p>Where:</p><p class="math-container">\[\begin{aligned}
assets\_investment\_cost &amp;= \sum_{y \in \mathcal{Y}} \sum_{a \in \mathcal{A}^{\text{i}}_y } p_{a, y}^{\text{discounting factor asset inv cost}} \cdot p^{\text{inv cost}}_{a,y} \cdot p^{\text{capacity}}_{a} \cdot v^{\text{inv}}_{a,y} \\ &amp;+  \sum_{y \in \mathcal{Y}} \sum_{a \in \mathcal{A}^{\text{se}}_y \cap \mathcal{A}^{\text{i}}_y } p_{a, y}^{\text{discounting factor asset inv cost}} \cdotp^{\text{inv cost energy}}_{a,y} \cdot p^{\text{energy capacity}}_{a} \cdot v^{\text{inv energy}}_{a,y}   \\
assets\_fixed\_cost &amp;= \sum_{y \in \mathcal{Y}} \sum_{a \in \mathcal{A}^{\text{simple investment}} \cup \mathcal{A}^{\text{operation}} } p_{y}^{\text{discounting factor operation cost}} \cdot p^{\text{fixed cost}}_{a,y} \cdot p^{\text{capacity}}_{a} \cdot v^{\text{available units simple method}}_{a,y} \\
&amp; + \sum_{(a,y,v) \in \mathcal{D}^{\text{compact investment}} }  p_{y}^{\text{discounting factor operation cost}} \cdot p^{\text{fixed cost}}_{a,v} \cdot p^{\text{capacity}}_{a} \cdot v^{\text{available units compact method}}_{a,y,v} \\
&amp; + \sum_{y \in \mathcal{Y}} \sum_{a \in \mathcal{A}^{\text{se}}_y \cap (\mathcal{A}^{\text{simple investment}} \cup \mathcal{A}^{\text{operation}}) } p_{y}^{\text{discounting factor operation cost}} \cdot p^{\text{fixed cost energy}}_{a,y} \cdot p^{\text{energy capacity}}_{a} \cdot v^{\text{available energy capacity simple method}}_{a,y} \\
flows\_investment\_cost &amp;= \sum_{y \in \mathcal{Y}} \sum_{f \in \mathcal{F}^{\text{ti}}_y} p_{f, y}^{\text{discounting factor flow inv cost}} \cdot p^{\text{inv cost}}_{f,y} \cdot p^{\text{capacity}}_{f} \cdot v^{\text{inv}}_{f,y} \\
flows\_fixed\_cost &amp;= \frac{1}{2} \sum_{y \in \mathcal{Y}} \sum_{f \in \mathcal{F}^{\text{t}}_y} p_{y}^{\text{discounting factor operation cost}} \cdot p^{\text{fixed cost}}_{f,y} \cdot p^{\text{capacity}}_{f} \cdot \left( v^{\text{available export units}}_{f,y} + v^{\text{available import units}}_{f,y} \right) \\
flows\_variable\_cost &amp;= \sum_{y \in \mathcal{Y}} \sum_{f \in \mathcal{F}_y} \sum_{k_y \in \mathcal{K}_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p_{y}^{\text{discounting factor operation cost}} \cdot p^{\text{rp weight}}_{k_y} \cdot p^{\text{variable cost}}_{f,y} \cdot p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \\
unit\_on\_cost &amp;= \sum_{y \in \mathcal{Y}} \sum_{a \in \mathcal{A}^{\text{uc}}_y} \sum_{k_y \in \mathcal{K}_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p_{y}^{\text{discounting factor operation cost}} \cdot p^{\text{rp weight}}_{k_y} \cdot p^{\text{units on cost}}_{a,y} \cdot p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{units on}}_{a,k_y,b_{k_y}}
\end{aligned}\]</p><h2 id="math-constraints"><a class="docs-heading-anchor" href="#math-constraints">Constraints</a><a id="math-constraints-1"></a><a class="docs-heading-anchor-permalink" href="#math-constraints" title="Permalink"></a></h2><h3 id="cap-constraints"><a class="docs-heading-anchor" href="#cap-constraints">Capacity Constraints</a><a id="cap-constraints-1"></a><a class="docs-heading-anchor-permalink" href="#cap-constraints" title="Permalink"></a></h3><h4 id="Maximum-Output-Flows-Limit"><a class="docs-heading-anchor" href="#Maximum-Output-Flows-Limit">Maximum Output Flows Limit</a><a id="Maximum-Output-Flows-Limit-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Output-Flows-Limit" title="Permalink"></a></h4><p>Maximum output flow constraints depend on the chosen investment method (simple or compact). For more information on this topic, refer to the <a href="../20-how-to-use/#how-to-use">How to use</a> or <a href="../45-scientific-references/#scientific-refs">Wang and Morales-España (2025)</a>.</p><p class="math-container">\[\begin{aligned}
\sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} p^{\text{capacity coefficient}}_{f,y} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \leq p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot v^{\text{available units simple method}}_{a,y}  \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in (\mathcal{A}^{\text{simple investment}} \cup \mathcal{A}^{\text{operation}}) \cap \left(\mathcal{A}^{\text{cv}} \cup \left(\mathcal{A}^{\text{s}} \setminus \mathcal{A}^{\text{sb}}_y \right)  \cup \mathcal{A}^{\text{p}} \right), \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}} \\ \\
\sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} p^{\text{capacity coefficient}}_{f,y} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \leq p^{\text{capacity}}_{a} \cdot \sum_{v \in \mathcal{V} | (a,y,v) \in \mathcal{D}^{\text{compact investment}}} p^{\text{availability profile}}_{a,v,k_y,b_{k_y}} \cdot v^{\text{available units compact method}}_{a,y,v}  \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{compact investment}} \cap \left(\mathcal{A}^{\text{cv}} \cup \left(\mathcal{A}^{\text{s}} \setminus \mathcal{A}^{\text{sb}}_y \right) \cup \mathcal{A}^{\text{p}} \right), \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><p>Storage assets using the method to avoid charging and discharging simultaneously, i.e., <span>$a \in \mathcal{A}^{\text{sb}}_y$</span>, use the following constraints instead of the previous one:</p><ul><li>Maximum output flows limit for storage assets such that <span>$a \in \mathcal{A}^{\text{sb}}_y \cap \mathcal{A}^{\text{i}}_y$</span></li></ul><p class="math-container">\[\begin{aligned}
\sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} p^{\text{capacity coefficient}}_{f,y} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \leq p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot \left(p^{\text{capacity}}_{a} \cdot p^{\text{init units}}_{a,y} + p^{\text{inv limit}}_{a,y} \right) \cdot \left(1 - v^{\text{is charging}}_{a,k_y,b_{k_y}} \right) \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{sb}}_y \cap \mathcal{A}^{\text{i}}_y, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><p class="math-container">\[\begin{aligned}
\sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} p^{\text{capacity coefficient}}_{f,y} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \leq p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot \left(p^{\text{init units}}_{a,y} \cdot (1 - v^{\text{is charging}}_{a,k_y,b_{k_y}}) - v^{\text{available units}}_{a,y} \right)
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{sb}}_y \cap \mathcal{A}^{\text{i}}_y, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><div class="admonition is-info" id="Info-b33270e5548ef8f3"><header class="admonition-header">Info<a class="admonition-anchor" href="#Info-b33270e5548ef8f3" title="Permalink"></a></header><div class="admonition-body"><p>The negative sign before the <span>$v^{\text{available units}}_{a,y}$</span> is because the available units include the <span>$p^{\text{init units}}_{a,y}$</span> in its calculation.</p></div></div><ul><li>Maximum output flows limit for storage assets such that <span>$a \in \mathcal{A}^{\text{sb}}_y \setminus \mathcal{A}^{\text{i}}_y$</span></li></ul><p class="math-container">\[\begin{aligned}
\sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} p^{\text{capacity coefficient}}_{f,y} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \leq p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot p^{\text{init units}}_{a,y} \cdot \left(1 - v^{\text{is charging}}_{a,k_y,b_{k_y}} \right) \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{sb}}_y \setminus \mathcal{A}^{\text{i}}_y, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><h4 id="Maximum-Input-Flows-Limit"><a class="docs-heading-anchor" href="#Maximum-Input-Flows-Limit">Maximum Input Flows Limit</a><a id="Maximum-Input-Flows-Limit-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Input-Flows-Limit" title="Permalink"></a></h4><p class="math-container">\[\begin{aligned}
\sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} p^{\text{capacity coefficient}}_{f,y} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \leq p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot v^{\text{available units}}_{a,y}   \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{s}} \setminus \mathcal{A}^{\text{sb}}_y, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><p>Storage assets using the method to avoid charging and discharging simultaneously, i.e., <span>$a \in \mathcal{A}^{\text{sb}}$</span>, use the following constraints instead of the previous one:</p><ul><li>Maximum input flows limit for storage assets such that <span>$a \in \mathcal{A}^{\text{sb}}_y \cap \mathcal{A}^{\text{i}}_y$</span></li></ul><p class="math-container">\[\begin{aligned}
\sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} p^{\text{capacity coefficient}}_{f,y} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \leq p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot \left(p^{\text{capacity}}_{a} \cdot p^{\text{init units}}_{a,y} + p^{\text{inv limit}}_{a,y} \right)  \cdot v^{\text{is charging}}_{a,k_y,b_{k_y}} \quad \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{sb}}_y \cap \mathcal{A}^{\text{i}}_y, \forall k_y \in \mathcal{K_y},\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><p class="math-container">\[\begin{aligned}
\sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} p^{\text{capacity coefficient}}_{f,y} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \leq p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot \left(p^{\text{init units}}_{a,y} \cdot v^{\text{is charging}}_{a,k_y,b_{k_y}} - v^{\text{available units}}_{a,y} \right)  \quad \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{sb}}_y \cap \mathcal{A}^{\text{i}}_y, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><div class="admonition is-info" id="Info-b33270e5548ef8f3"><header class="admonition-header">Info<a class="admonition-anchor" href="#Info-b33270e5548ef8f3" title="Permalink"></a></header><div class="admonition-body"><p>The negative sign before the <span>$v^{\text{available units}}_{a,y}$</span> is because the available units include the <span>$p^{\text{init units}}_{a,y}$</span> in its calculation.</p></div></div><ul><li>Maximum input flows limit for storage assets such that <span>$a \in \mathcal{A}^{\text{sb}}_y \setminus \mathcal{A}^{\text{i}}_y$</span></li></ul><p class="math-container">\[\begin{aligned}
\sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} p^{\text{capacity coefficient}}_{f,y} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \leq p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot p^{\text{init units}}_{a,y}  \cdot v^{\text{is charging}}_{a,k_y,b_{k_y}} \quad \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{sb}}_y \setminus \mathcal{A}^{\text{i}}_y, \forall k_y \in \mathcal{K_y},\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><h4 id="Lower-Limit-for-Available-Units-Compact-method"><a class="docs-heading-anchor" href="#Lower-Limit-for-Available-Units-Compact-method">Lower Limit for Available Units Compact method</a><a id="Lower-Limit-for-Available-Units-Compact-method-1"></a><a class="docs-heading-anchor-permalink" href="#Lower-Limit-for-Available-Units-Compact-method" title="Permalink"></a></h4><p class="math-container">\[\begin{aligned}
    v^{\text{available units compact method}}_{a,y,v} \ge 0 \quad  \forall (a,y,v) \in \mathcal{D}^{\text{compact investment}}
\end{aligned}\]</p><h4 id="Lower-Limit-for-Flows"><a class="docs-heading-anchor" href="#Lower-Limit-for-Flows">Lower Limit for Flows</a><a id="Lower-Limit-for-Flows-1"></a><a class="docs-heading-anchor-permalink" href="#Lower-Limit-for-Flows" title="Permalink"></a></h4><p class="math-container">\[v^{\text{flow}}_{f,k_y,b_{k_y}} \geq 0 \quad \forall y \in \mathcal{Y}, \forall f \notin \mathcal{F}^t, \forall k_y \in \mathcal{K}_y, \forall b_{k_y} \in \mathcal{B_{k_y}}\]</p><p class="math-container">\[\sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} p^{\text{capacity coefficient}}_{f,y} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \geq 0 \quad \forall y \in \mathcal{Y}, \forall f \in \left( \mathcal{F}^{\text{out}}_{a,y} \;\middle|\; a \in \mathcal{A}^{\text{p}} \cup \mathcal{A}^{\text{cv}} \cup \mathcal{A}^{\text{s}},\; a \notin \mathcal{A}^{\text{uc}} \right)
 \cap \mathcal{F}^t, \forall k_y \in \mathcal{K}_y, \forall b_{k_y} \in \mathcal{B_{k_y}}\]</p><p class="math-container">\[\sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} p^{\text{capacity coefficient}}_{f,y} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \geq 0 \quad \forall y \in \mathcal{Y}, \forall f \in \left(\mathcal{F}^{\text{in}}_{a,y} | a \in \mathcal{A}^{\text{cv}} \cup \mathcal{A}^{\text{s}} \right) \cap \mathcal{F}^t , \forall k_y \in \mathcal{K}_y, \forall b_{k_y} \in \mathcal{B_{k_y}}\]</p><h3 id="uc-constraints"><a class="docs-heading-anchor" href="#uc-constraints">Unit Commitment Constraints</a><a id="uc-constraints-1"></a><a class="docs-heading-anchor-permalink" href="#uc-constraints" title="Permalink"></a></h3><p>Production and conversion assets within the set <span>$\mathcal{A}^{\text{uc}}$</span> will contain the unit commitment constraints in the model. These constraints are based on the work of <a href="../45-scientific-references/#scientific-refs">Morales-España et al. (2013)</a> and <a href="../45-scientific-references/#scientific-refs">Morales-España et al. (2014)</a>.</p><p>The current version of the code only incorporates a basic unit commitment version of the constraints (i.e., utilizing only the unit commitment variable <span>$v^{\text{units on}}$</span>). However, upcoming versions will include more detailed constraints, incorporating startup and shutdown variables.</p><p>For the unit commitment constraints, we define the following expression for the flow that is above the minimum operating point of the asset:</p><p class="math-container">\[e^{\text{flow above min}}_{a,k_y,b_{k_y}} = \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} v^{\text{flow}}_{f,k_y,b_{k_y}} - p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot p^{\text{min operating point}}_{a,y} \cdot v^{\text{on}}_{a,k_y,b_{k_y}}  \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{uc}}_y, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}\]</p><h4 id="Limit-to-the-units-on-variable"><a class="docs-heading-anchor" href="#Limit-to-the-units-on-variable">Limit to the units on variable</a><a id="Limit-to-the-units-on-variable-1"></a><a class="docs-heading-anchor-permalink" href="#Limit-to-the-units-on-variable" title="Permalink"></a></h4><p class="math-container">\[v^{\text{on}}_{a,k_y,b_{k_y}} \leq v^{\text{available units}}_{a,y}  \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{uc}}_y, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B}_{k_y}\]</p><h4 id="Maximum-output-flow-above-the-minimum-operating-point"><a class="docs-heading-anchor" href="#Maximum-output-flow-above-the-minimum-operating-point">Maximum output flow above the minimum operating point</a><a id="Maximum-output-flow-above-the-minimum-operating-point-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-output-flow-above-the-minimum-operating-point" title="Permalink"></a></h4><p class="math-container">\[e^{\text{flow above min}}_{a,y,k_y,b_{k_y}} \leq p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot \left(1 - p^{\text{min operating point}}_{a,y} \right) \cdot v^{\text{on}}_{a,k_y,b_{k_y}}  \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{uc basic}}_y, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B}_{k_y}\]</p><h4 id="Minimum-output-flow-above-the-minimum-operating-point"><a class="docs-heading-anchor" href="#Minimum-output-flow-above-the-minimum-operating-point">Minimum output flow above the minimum operating point</a><a id="Minimum-output-flow-above-the-minimum-operating-point-1"></a><a class="docs-heading-anchor-permalink" href="#Minimum-output-flow-above-the-minimum-operating-point" title="Permalink"></a></h4><p class="math-container">\[e^{\text{flow above min}}_{a,k_y,b_{k_y}} \geq 0  \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{uc basic}}_y, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B}_{k_y}\]</p><h3 id="ramp-constraints"><a class="docs-heading-anchor" href="#ramp-constraints">Ramping Constraints</a><a id="ramp-constraints-1"></a><a class="docs-heading-anchor-permalink" href="#ramp-constraints" title="Permalink"></a></h3><p>Ramping constraints restrict the rate at which the output flow of a production or conversion asset can change. If the asset is part of the unit commitment set (e.g., <span>$\mathcal{A}^{\text{uc}}_y$</span>), the ramping limits apply to the flow above the minimum output, but if it is not, the ramping limits apply to the total output flow.</p><p>Ramping constraints that take into account unit commitment variables are based on the work done by <a href="../45-scientific-references/#scientific-refs">Damcı-Kurt et. al (2016)</a>. Also, please note that since the current version of the code only handles the basic unit commitment implementation, the ramping constraints are applied to the assets in the set <span>$\mathcal{A}^{\text{uc basic}}_y$</span>.</p><div class="admonition is-info" id="Duration-parameter-be6e48de262abc25"><header class="admonition-header">Duration parameter<a class="admonition-anchor" href="#Duration-parameter-be6e48de262abc25" title="Permalink"></a></header><div class="admonition-body"><p>The following constraints are multiplied by <span>$p^{\text{duration}}_{b_{k_y}}$</span> on the right-hand side to adjust for the duration of the timesteps since the ramp parameters are defined as rates. This assumption is based on the idea that all timesteps are the same in this section, which simplifies the formulation. However, in a flexible temporal resolution context, this may not hold true, and the duration needs to be the minimum duration of all the outgoing flows at the timestep block <span>$b_{k_y}$</span>. For more information, please visit the concept section on flexible time resolution.</p></div></div><h4 id="Maximum-Ramp-Up-Rate-Limit-WITH-Unit-Commitment-Method"><a class="docs-heading-anchor" href="#Maximum-Ramp-Up-Rate-Limit-WITH-Unit-Commitment-Method">Maximum Ramp-Up Rate Limit WITH Unit Commitment Method</a><a id="Maximum-Ramp-Up-Rate-Limit-WITH-Unit-Commitment-Method-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Ramp-Up-Rate-Limit-WITH-Unit-Commitment-Method" title="Permalink"></a></h4><p class="math-container">\[e^{\text{flow above min}}_{a,k_y,b_{k_y}} - e^{\text{flow above min}}_{a,k_y,b_{k_y}-1} \leq p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot p^{\text{max ramp up}}_{a,y} \cdot p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{on}}_{a,k_y,b_{k_y}}  \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \left(\mathcal{A}^{\text{ramp}}_y \cap \mathcal{A}^{\text{uc basic}}_y \right), \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}\]</p><h4 id="Maximum-Ramp-Down-Rate-Limit-WITH-Unit-Commmitment-Method"><a class="docs-heading-anchor" href="#Maximum-Ramp-Down-Rate-Limit-WITH-Unit-Commmitment-Method">Maximum Ramp-Down Rate Limit WITH Unit Commmitment Method</a><a id="Maximum-Ramp-Down-Rate-Limit-WITH-Unit-Commmitment-Method-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Ramp-Down-Rate-Limit-WITH-Unit-Commmitment-Method" title="Permalink"></a></h4><p class="math-container">\[e^{\text{flow above min}}_{a,k_y,b_{k_y}} - e^{\text{flow above min}}_{a,k_y,b_{k_y}-1} \geq - p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot p^{\text{max ramp down}}_{a,y} \cdot p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{on}}_{a,k_y,b_{k_y}-1}  \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \left(\mathcal{A}^{\text{ramp}}_y \cap \mathcal{A}^{\text{uc basic}}_y \right), \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}\]</p><h4 id="Maximum-Ramp-Up-Rate-Limit-WITHOUT-Unit-Commitment-Method"><a class="docs-heading-anchor" href="#Maximum-Ramp-Up-Rate-Limit-WITHOUT-Unit-Commitment-Method">Maximum Ramp-Up Rate Limit WITHOUT Unit Commitment Method</a><a id="Maximum-Ramp-Up-Rate-Limit-WITHOUT-Unit-Commitment-Method-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Ramp-Up-Rate-Limit-WITHOUT-Unit-Commitment-Method" title="Permalink"></a></h4><p class="math-container">\[\sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} v^{\text{flow}}_{f,k_y,b_{k_y}} - \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} v^{\text{flow}}_{f,k_y,b_{k_y}-1} \leq p^{\text{max ramp up}}_{a,y} \cdot p^{\text{duration}}_{b_{k_y}} \cdot p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot v^{\text{available units simple method}}_{a,y}  \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in  (\mathcal{A}^{\text{simple investment}} \cup \mathcal{A}^{\text{operation}}) \cap\left(\mathcal{A}^{\text{ramp}}_y \setminus \mathcal{A}^{\text{uc basic}}_y \right), \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}} \\
\sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} v^{\text{flow}}_{f,k_y,b_{k_y}} - \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} v^{\text{flow}}_{f,k_y,b_{k_y}-1} \leq p^{\text{max ramp up}}_{a,y} \cdot p^{\text{duration}}_{b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot  \sum_{v \in \mathcal{V} | (a,y,v) \in \mathcal{D}^{\text{compact investment}}} p^{\text{availability profile}}_{a,v,k_y,b_{k_y}} \cdot v^{\text{available units compact method}}_{a,y,v}  \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in  \mathcal{A}^{\text{compact investment}} \cap\left(\mathcal{A}^{\text{ramp}}_y \setminus \mathcal{A}^{\text{uc basic}}_y \right), \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}\]</p><h4 id="Maximum-Ramp-Down-Rate-Limit-WITHOUT-Unit-Commitment-Method"><a class="docs-heading-anchor" href="#Maximum-Ramp-Down-Rate-Limit-WITHOUT-Unit-Commitment-Method">Maximum Ramp-Down Rate Limit WITHOUT Unit Commitment Method</a><a id="Maximum-Ramp-Down-Rate-Limit-WITHOUT-Unit-Commitment-Method-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Ramp-Down-Rate-Limit-WITHOUT-Unit-Commitment-Method" title="Permalink"></a></h4><p class="math-container">\[\sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} v^{\text{flow}}_{f,k_y,b_{k_y}} - \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} v^{\text{flow}}_{f,k_y,b_{k_y}-1} \geq - p^{\text{max ramp down}}_{a,y} \cdot p^{\text{duration}}_{b_{k_y}} \cdot p^{\text{availability profile}}_{a,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot v^{\text{available units simple method}}_{a,y}  \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in  (\mathcal{A}^{\text{simple investment}} \cup \mathcal{A}^{\text{operation}}) \cap\left(\mathcal{A}^{\text{ramp}}_y \setminus \mathcal{A}^{\text{uc basic}}_y \right), \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}} \\
\sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} v^{\text{flow}}_{f,k_y,b_{k_y}} - \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} v^{\text{flow}}_{f,k_y,b_{k_y}-1} \geq - p^{\text{max ramp down}}_{a,y} \cdot p^{\text{duration}}_{b_{k_y}} \cdot p^{\text{capacity}}_{a} \cdot  \sum_{v \in \mathcal{V} | (a,y,v) \in \mathcal{D}^{\text{compact investment}}} p^{\text{availability profile}}_{a,v,k_y,b_{k_y}} \cdot v^{\text{available units compact method}}_{a,y,v}  \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in  \mathcal{A}^{\text{compact investment}} \cap\left(\mathcal{A}^{\text{ramp}}_y \setminus \mathcal{A}^{\text{uc basic}}_y \right), \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}\]</p><h3 id="dc-opf-constraints"><a class="docs-heading-anchor" href="#dc-opf-constraints">DC Power Flow Constraints</a><a id="dc-opf-constraints-1"></a><a class="docs-heading-anchor-permalink" href="#dc-opf-constraints" title="Permalink"></a></h3><p>For a flow <span>$f$</span> connecting assets <span>$a^{\text{from}}$</span> and <span>$a^{\text{to}}$</span>, which belongs to the set <span>$\mathcal{F}^{\text{dc-opf}}_y$</span>, the power flow constraints utilize the following equations:</p><p class="math-container">\[\begin{aligned}
v^{\text{flow}}_{f,k_y,b_{k_y}} = \frac{p^{\text{power system base}}}{p^{\text{reactance}}_{f,y}} \cdot (v^{\text{angle}}_{a^{\text{from}},k_y,b_{k_y}} - v^{\text{angle}}_{a^{\text{to}},k_y,b_{k_y}}) \quad \forall y \in \mathcal{Y}, \forall f(a^{\text{from}},a^{\text{to}}) \in \mathcal{F}^{\text{dc-opf}}_y, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><h3 id="Constraints-for-Energy-Consumer-Assets"><a class="docs-heading-anchor" href="#Constraints-for-Energy-Consumer-Assets">Constraints for Energy Consumer Assets</a><a id="Constraints-for-Energy-Consumer-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Constraints-for-Energy-Consumer-Assets" title="Permalink"></a></h3><h4 id="Balance-Constraint-for-Consumers"><a class="docs-heading-anchor" href="#Balance-Constraint-for-Consumers">Balance Constraint for Consumers</a><a id="Balance-Constraint-for-Consumers-1"></a><a class="docs-heading-anchor-permalink" href="#Balance-Constraint-for-Consumers" title="Permalink"></a></h4><p>The balance constraint sense depends on the method selected in the asset file&#39;s parameter <a href="../50-schemas/#table_schemas"><code>consumer_balance_sense</code></a>. The default value is <span>$=$</span>, but the user can choose <span>$\geq$</span> as an option.</p><p class="math-container">\[\begin{aligned}
\sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} v^{\text{flow}}_{f,k_y,b_{k_y}} - \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} v^{\text{flow}}_{f,k_y,b_{k_y}} \left\{\begin{array}{l} = \\ \geq \end{array}\right\} p^{\text{demand profile}}_{a,k_y,b_{k_y}} \cdot p^{\text{peak demand}}_{a,y} \quad \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{c}}, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><h3 id="Constraints-for-Energy-Storage-Assets"><a class="docs-heading-anchor" href="#Constraints-for-Energy-Storage-Assets">Constraints for Energy Storage Assets</a><a id="Constraints-for-Energy-Storage-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Constraints-for-Energy-Storage-Assets" title="Permalink"></a></h3><p>There are two types of constraints for energy storage assets: rep-period and over-clustered-year. Rep-period constraints impose limits inside a representative period, while over-clustered-year constraints combine information from several representative periods (e.g., to model seasonal storage). For more information on this topic, refer to the <a href="../30-concepts/#storage-modeling">concepts section</a> or <a href="../45-scientific-references/#scientific-refs">Tejada-Arango et al. (2018)</a> and <a href="../45-scientific-references/#scientific-refs">Tejada-Arango et al. (2019)</a>.</p><p>In addition, we define the following expression to determine the energy investment limit of the storage assets. This expression takes two different forms depending on whether the storage asset belongs to the set <span>$\mathcal{A}^{\text{se}}$</span> or not.</p><ul><li>Investment energy method:</li></ul><p class="math-container">\[e^{\text{available energy inv limit}}_{a,y} = p^{\text{energy capacity}}_a \cdot v^{\text{available energy units}}_{a,y} \quad \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{i}} \cap \mathcal{A}^{\text{se}}_y\]</p><ul><li>Fixed energy-to-power ratio method:</li></ul><p class="math-container">\[e^{\text{available energy inv limit}}_{a,y} = p^{\text{capacity storage energy}}_a \cdot p^{\text{initial storage units}}_{a,y} \quad \forall y \in \mathcal{Y}, \forall a \in (\mathcal{A}^{\text{s}} \setminus \mathcal{A}^{\text{se}}_y)\]</p><p class="math-container">\[\begin{aligned}
e^{\text{available energy inv limit}}_{a,y}
&amp; = p^{\text{capacity storage energy}}_a \cdot p^{\text{initial storage units}}_{a,y} \\
&amp; + p^{\text{energy to power ratio}}_{a,y} \cdot p^{\text{capacity}}_a \cdot v^{\text{available units}}_{a,y} \quad \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{i}} \cap (\mathcal{A}^{\text{s}} \setminus \mathcal{A}^{\text{se}}_y)
\end{aligned}\]</p><h4 id="rep-period-storage-balance"><a class="docs-heading-anchor" href="#rep-period-storage-balance">Rep-period Constraint for Storage Balance</a><a id="rep-period-storage-balance-1"></a><a class="docs-heading-anchor-permalink" href="#rep-period-storage-balance" title="Permalink"></a></h4><p class="math-container">\[\begin{aligned}
v^{\text{rep-period-storage}}_{a,k_y,b_{k_y}} = \left(1 - p^{\text{storage loss from stored energy}}_{a, y}\right)^{p^{\text{duration}}_{b_{k_y}}}
 \cdot  v^{\text{rep-period-storage}}_{a,k_y,b_{k_y}-1}  + p^{\text{inflows}}_{a,k_y,b_{k_y}} + \sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} p^{\text{eff}}_{f,y} \cdot p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} - \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} \frac{1}{p^{\text{eff}}_{f,y}} \cdot p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{s}} \setminus \mathcal{A}^{\text{ss}}, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><h4 id="Rep-period-Constraint-for-Maximum-Storage-Level-Limit"><a class="docs-heading-anchor" href="#Rep-period-Constraint-for-Maximum-Storage-Level-Limit">Rep-period Constraint for Maximum Storage Level Limit</a><a id="Rep-period-Constraint-for-Maximum-Storage-Level-Limit-1"></a><a class="docs-heading-anchor-permalink" href="#Rep-period-Constraint-for-Maximum-Storage-Level-Limit" title="Permalink"></a></h4><p class="math-container">\[v^{\text{rep-period-storage}}_{a,k_y,b_{k_y}} \leq p^{\text{max rep-period-storage level}}_{a,k_y,b_{k_y}} \cdot e^{\text{available energy inv limit}}_{a,y} \quad \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{s}} \setminus \mathcal{A}^{\text{ss}}, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}\]</p><h4 id="Rep-period-Constraint-for-Minimum-Storage-Level-Limit"><a class="docs-heading-anchor" href="#Rep-period-Constraint-for-Minimum-Storage-Level-Limit">Rep-period Constraint for Minimum Storage Level Limit</a><a id="Rep-period-Constraint-for-Minimum-Storage-Level-Limit-1"></a><a class="docs-heading-anchor-permalink" href="#Rep-period-Constraint-for-Minimum-Storage-Level-Limit" title="Permalink"></a></h4><p class="math-container">\[v^{\text{rep-period-storage}}_{a,k_y,b_{k_y}} \geq p^{\text{min rep-period-storage level}}_{a,k_y,b_{k_y}} \cdot e^{\text{available energy inv limit}}_{a,y} \quad \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{s}} \setminus \mathcal{A}^{\text{ss}}, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}\]</p><h4 id="Rep-period-Cycling-Constraint"><a class="docs-heading-anchor" href="#Rep-period-Cycling-Constraint">Rep-period Cycling Constraint</a><a id="Rep-period-Cycling-Constraint-1"></a><a class="docs-heading-anchor-permalink" href="#Rep-period-Cycling-Constraint" title="Permalink"></a></h4><p>The cycling constraint for the rep-period constraints links the first timestep block (<span>$b^{\text{first}}_{k_y}$</span>) and the last one (<span>$b^{\text{last}}_{k_y}$</span>) in each representative period. The parameter <span>$p^{\text{init storage level}}_{a,y}$</span> determines the considered equations in the model for this constraint:</p><ul><li>If parameter <span>$p^{\text{init storage level}}_{a,y}$</span> is not defined, the rep-period-storage level of the last timestep block (<span>$b^{\text{last}}_{k_y}$</span>) is used as the initial value for the first timestep block in the <a href="#rep-period-storage-balance">rep-period constraint for the storage balance</a>.</li></ul><p class="math-container">\[\begin{aligned}
v^{\text{rep-period-storage}}_{a,k_y,b^{\text{first}}_{k_y}} = v^{\text{rep-period-storage}}_{a,k_y,b^{\text{last}}_{k_y}}  + p^{\text{inflows}}_{a,k_y,b^{\text{first}}_{k_y}} + \sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} p^{\text{eff}}_{f,y} \cdot p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{flow}}_{f,k_y,b^{\text{first}}_{k_y}} - \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} \frac{1}{p^{\text{eff}}_{f,y}} \cdot p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{flow}}_{f,k_y,b^{\text{first}}_{k_y}} \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{s}} \setminus \mathcal{A}^{\text{ss}}, \forall k_y \in \mathcal{K}_y
\end{aligned}\]</p><ul><li>If parameter <span>$p^{\text{init storage level}}_{a,y}$</span> is defined, we use it as the initial value for the first timestep block in the <a href="#rep-period-storage-balance">rep-period constraint for the storage balance</a>. In addition, the rep-period-storage level of the last timestep block (<span>$b^{\text{last}}_{k_y}$</span>) in each representative period must be greater than this initial value.</li></ul><p class="math-container">\[\begin{aligned}
v^{\text{rep-period-storage}}_{a,k_y,b^{\text{first}}_{k_y}} = p^{\text{init storage level}}_{a,y}  + p^{\text{inflows}}_{a,k_y,b^{\text{first}}_{k_y}} + \sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} p^{\text{eff}}_{f,y} \cdot p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{flow}}_{f,k_y,b^{\text{first}}_{k_y}} - \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} \frac{1}{p^{\text{eff}}_{f,y}} \cdot p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{flow}}_{f,k_y,b^{\text{first}}_{k_y}} \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{s}} \setminus \mathcal{A}^{\text{ss}}, \forall k_y \in \mathcal{K}_y
\end{aligned}\]</p><p class="math-container">\[v^{\text{rep-period-storage}}_{a,k_y,b^{\text{last}}_{k_y}} \geq p^{\text{init storage level}}_{a,y} \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{s}} \setminus \mathcal{A}^{\text{ss}}, \forall k_y \in \mathcal{K}_y\]</p><h4 id="over-clustered-year-storage-balance"><a class="docs-heading-anchor" href="#over-clustered-year-storage-balance">Over-clustered-year Constraint for Storage Balance</a><a id="over-clustered-year-storage-balance-1"></a><a class="docs-heading-anchor-permalink" href="#over-clustered-year-storage-balance" title="Permalink"></a></h4><p>This constraint allows us to consider the storage seasonality throughout the model&#39;s timeframe (e.g., a year). The parameter <span>$p^{\text{map}}_{p_y,k_y}$</span> determines how much of the representative period <span>$k_y$</span> is in the period <span>$p_y$</span>, and you can use a clustering technique to calculate it. For <em>TulipaEnergyModel.jl</em>, we recommend using <a href="https://github.com/TulipaEnergy/TulipaClustering.jl"><em>TulipaClustering.jl</em></a> to compute the clusters for the representative periods and their map.</p><p>For the sake of simplicity, we show the constraint assuming the over-clustered-year-storage level between two consecutive periods <span>$p_y$</span>; however, <em>TulipaEnergyModel.jl</em> can handle more flexible period block definition through the timeframe definition in the model using the information in the timeframe partitions file, see <a href="../50-schemas/#table_schemas">schemas</a>.</p><p class="math-container">\[\begin{aligned}
v^{\text{over-clustered-year-storage}}_{a,p_y} = &amp; \left(1 - p^{\text{storage loss from stored energy}}_{a, y}\right)^{\sum_{k_y \in \mathcal{K}_y} p^{\text{map}}_{p_y,k_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p^{\text{duration}}_{b_{k_y}}}
 \cdot v^{\text{over-clustered-year-storage}}_{a,p_y-1} + \sum_{k_y \in \mathcal{K}_y} p^{\text{map}}_{p_y,k_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p^{\text{inflows}}_{a,k_y,b_{k_y}} \\
&amp; + \sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} p^{\text{eff}}_{f,y} \sum_{k_y \in \mathcal{K}_y} p^{\text{map}}_{p_y,k_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \\
&amp; - \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} \frac{1}{p^{\text{eff}}_{f,y}} \sum_{k_y \in \mathcal{K}_y} p^{\text{map}}_{p_y,k_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}}
\\ \\ &amp; \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{ss}}, \forall p_y \in \mathcal{P}_y
\end{aligned}\]</p><h4 id="Over-clustered-year-Constraint-for-Maximum-Storage-Level-Limit"><a class="docs-heading-anchor" href="#Over-clustered-year-Constraint-for-Maximum-Storage-Level-Limit">Over-clustered-year Constraint for Maximum Storage Level Limit</a><a id="Over-clustered-year-Constraint-for-Maximum-Storage-Level-Limit-1"></a><a class="docs-heading-anchor-permalink" href="#Over-clustered-year-Constraint-for-Maximum-Storage-Level-Limit" title="Permalink"></a></h4><p class="math-container">\[v^{\text{over-clustered-year-storage}}_{a,p_y} \leq p^{\text{max over-clustered-year-storage level}}_{a,p_y} \cdot e^{\text{available energy inv limit}}_{a,y} \quad \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{ss}}, \forall p_y \in \mathcal{P}_y\]</p><h4 id="Over-clustered-year-Constraint-for-Minimum-Storage-Level-Limit"><a class="docs-heading-anchor" href="#Over-clustered-year-Constraint-for-Minimum-Storage-Level-Limit">Over-clustered-year Constraint for Minimum Storage Level Limit</a><a id="Over-clustered-year-Constraint-for-Minimum-Storage-Level-Limit-1"></a><a class="docs-heading-anchor-permalink" href="#Over-clustered-year-Constraint-for-Minimum-Storage-Level-Limit" title="Permalink"></a></h4><p class="math-container">\[v^{\text{over-clustered-year-storage}}_{a,p_y} \geq p^{\text{min over-clustered-year-storage level}}_{a,p_y} \cdot e^{\text{available energy inv limit}}_{a,y} \quad \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{ss}}, \forall p_y \in \mathcal{P}_y\]</p><h4 id="Over-clustered-year-Cycling-Constraint"><a class="docs-heading-anchor" href="#Over-clustered-year-Cycling-Constraint">Over-clustered-year Cycling Constraint</a><a id="Over-clustered-year-Cycling-Constraint-1"></a><a class="docs-heading-anchor-permalink" href="#Over-clustered-year-Cycling-Constraint" title="Permalink"></a></h4><p>The cycling constraint for the over-clustered-year constraints links the first-period block (<span>$p^{\text{first}}_y$</span>) and the last one (<span>$p^{\text{last}}_y$</span>) in the timeframe. The parameter <span>$p^{\text{init storage level}}_{a,y}$</span> determines the considered equations in the model for this constraint:</p><ul><li>If parameter <span>$p^{\text{init storage level}}_{a,y}$</span> is not defined, the over-clustered-year-storage level of the last period block (<span>$p^{\text{last}}_y$</span>) is used as the initial value for the first-period block in the <a href="#over-clustered-year-storage-balance">over-clustered-year constraint for the storage balance</a>.</li></ul><p class="math-container">\[\begin{aligned}
v^{\text{over-clustered-year-storage}}_{a,p^{\text{first}}_y} = &amp; v^{\text{over-clustered-year-storage}}_{a,p^{\text{last}}_y} + \sum_{k_y \in \mathcal{K}_y} p^{\text{map}}_{p^{\text{first}}_y,k_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p^{\text{inflows}}_{a,k_y,b_{k_y}} \\
&amp; + \sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} p^{\text{eff}}_{f,y} \sum_{k_y \in \mathcal{K}_y} p^{\text{map}}_{p^{\text{first}}_y,k_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \\
&amp; - \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} \frac{1}{p^{\text{eff}}_{f,y}} \sum_{k_y \in \mathcal{K}_y} p^{\text{map}}_{p^{\text{first}}_y,k_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}}
\\ \\ &amp; \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{ss}}
\end{aligned}\]</p><ul><li>If parameter <span>$p^{\text{init storage level}}_{a,y}$</span> is defined, we use it as the initial value for the first-period block in the <a href="#over-clustered-year-storage-balance">over-clustered-year constraint for the storage balance</a>. In addition, the over-clustered-year-storage level of the last period block (<span>$p^{\text{last}}_y$</span>) in the timeframe must be greater than this initial value.</li></ul><p class="math-container">\[\begin{aligned}
v^{\text{over-clustered-year-storage}}_{a,p^{\text{first}}_y} = &amp; p^{\text{init storage level}}_{a,y} + \sum_{k_y \in \mathcal{K}_y} p^{\text{map}}_{p^{\text{first}}_y,k_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p^{\text{inflows}}_{a,k_y,b_{k_y}} \\
&amp; + \sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} p^{\text{eff}}_{f,y} \sum_{k_y \in \mathcal{K}_y} p^{\text{map}}_{p^{\text{first}}_y,k_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \\
&amp; - \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} \frac{1}{p^{\text{eff}}_{f,y}} \sum_{k_y \in \mathcal{K}_y} p^{\text{map}}_{p^{\text{first}}_y,k_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p^{\text{duration}}_{b_{k_y}} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}}
\\ \\ &amp; \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{ss}}
\end{aligned}\]</p><p class="math-container">\[v^{\text{over-clustered-year-storage}}_{a,p^{\text{last}}_y} \geq p^{\text{init storage level}}_{a,y} \quad
\\ \\ \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{ss}}\]</p><h3 id="Constraints-for-Energy-Hub-Assets"><a class="docs-heading-anchor" href="#Constraints-for-Energy-Hub-Assets">Constraints for Energy Hub Assets</a><a id="Constraints-for-Energy-Hub-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Constraints-for-Energy-Hub-Assets" title="Permalink"></a></h3><h4 id="Balance-Constraint-for-Hubs"><a class="docs-heading-anchor" href="#Balance-Constraint-for-Hubs">Balance Constraint for Hubs</a><a id="Balance-Constraint-for-Hubs-1"></a><a class="docs-heading-anchor-permalink" href="#Balance-Constraint-for-Hubs" title="Permalink"></a></h4><p class="math-container">\[\begin{aligned}
\sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} v^{\text{flow}}_{f,k_y,b_{k_y}} = \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} v^{\text{flow}}_{f,k_y,b_{k_y}}
\quad \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{h}}, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><h3 id="Constraints-for-Energy-Conversion-Assets"><a class="docs-heading-anchor" href="#Constraints-for-Energy-Conversion-Assets">Constraints for Energy Conversion Assets</a><a id="Constraints-for-Energy-Conversion-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Constraints-for-Energy-Conversion-Assets" title="Permalink"></a></h3><h4 id="Balance-Constraint-for-Conversion-Assets"><a class="docs-heading-anchor" href="#Balance-Constraint-for-Conversion-Assets">Balance Constraint for Conversion Assets</a><a id="Balance-Constraint-for-Conversion-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Balance-Constraint-for-Conversion-Assets" title="Permalink"></a></h4><p class="math-container">\[\begin{aligned}
\sum_{f \in \mathcal{F}^{\text{in}}_{a,y}} p^{\text{eff}}_{f,y} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} = \sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} \frac{v^{\text{flow}}_{f,k_y,b_{k_y}}}{p^{\text{eff}}_{f,y}}
\quad \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{cv}}, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><h3 id="Constraints-for-Transport-Assets"><a class="docs-heading-anchor" href="#Constraints-for-Transport-Assets">Constraints for Transport Assets</a><a id="Constraints-for-Transport-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Constraints-for-Transport-Assets" title="Permalink"></a></h3><h4 id="Maximum-Transport-Flow-Limit"><a class="docs-heading-anchor" href="#Maximum-Transport-Flow-Limit">Maximum Transport Flow Limit</a><a id="Maximum-Transport-Flow-Limit-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Transport-Flow-Limit" title="Permalink"></a></h4><p class="math-container">\[\begin{aligned}
v^{\text{flow}}_{f,k_y,b_{k_y}} \leq p^{\text{availability profile}}_{f,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{f} \cdot v^{\text{available export units}}_{f,y}  \quad \forall y \in \mathcal{Y}, \forall f \in \mathcal{F}^{\text{t}}, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><h4 id="Minimum-Transport-Flow-Limit"><a class="docs-heading-anchor" href="#Minimum-Transport-Flow-Limit">Minimum Transport Flow Limit</a><a id="Minimum-Transport-Flow-Limit-1"></a><a class="docs-heading-anchor-permalink" href="#Minimum-Transport-Flow-Limit" title="Permalink"></a></h4><p class="math-container">\[\begin{aligned}
v^{\text{flow}}_{f,k_y,b_{k_y}} \geq - p^{\text{availability profile}}_{f,y,k_y,b_{k_y}} \cdot p^{\text{capacity}}_{f} \cdot v^{\text{available import units}}_{f,y}  \quad \forall y \in \mathcal{Y}, \forall f \in \mathcal{F}^{\text{t}}, \forall k_y \in \mathcal{K}_y,\forall b_{k_y} \in \mathcal{B_{k_y}}
\end{aligned}\]</p><h3 id="Constraints-for-Investments"><a class="docs-heading-anchor" href="#Constraints-for-Investments">Constraints for Investments</a><a id="Constraints-for-Investments-1"></a><a class="docs-heading-anchor-permalink" href="#Constraints-for-Investments" title="Permalink"></a></h3><h4 id="Maximum-Investment-Limit-for-Assets"><a class="docs-heading-anchor" href="#Maximum-Investment-Limit-for-Assets">Maximum Investment Limit for Assets</a><a id="Maximum-Investment-Limit-for-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Investment-Limit-for-Assets" title="Permalink"></a></h4><p class="math-container">\[v^{\text{inv}}_{a,y} \leq \frac{p^{\text{inv limit}}_{a,y}}{p^{\text{capacity}}_{a}} \quad \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{i}}_y\]</p><p>If the parameter <code>investment_integer</code> is set to true, then the right-hand side of this constraint uses a least integer function (floor function) to guarantee that the limit is integer.</p><h4 id="Maximum-Energy-Investment-Limit-for-Assets"><a class="docs-heading-anchor" href="#Maximum-Energy-Investment-Limit-for-Assets">Maximum Energy Investment Limit for Assets</a><a id="Maximum-Energy-Investment-Limit-for-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Energy-Investment-Limit-for-Assets" title="Permalink"></a></h4><p class="math-container">\[v^{\text{inv energy}}_{a,y} \leq \frac{p^{\text{inv limit energy}}_{a,y}}{p^{\text{energy capacity}}_{a}} \quad \forall y \in \mathcal{Y},  \forall a \in \mathcal{A}^{\text{i}}_y \cap \mathcal{A}^{\text{se}}_y\]</p><p>If the parameter <code>investment_integer_storage_energy</code> is set to true, then the right-hand side of this constraint uses a least integer function (floor function) to guarantee that the limit is integer.</p><h4 id="Maximum-Investment-Limit-for-Flows"><a class="docs-heading-anchor" href="#Maximum-Investment-Limit-for-Flows">Maximum Investment Limit for Flows</a><a id="Maximum-Investment-Limit-for-Flows-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Investment-Limit-for-Flows" title="Permalink"></a></h4><p class="math-container">\[v^{\text{inv}}_{f,y} \leq \frac{p^{\text{inv limit}}_{f,y}}{p^{\text{capacity}}_{f}} \quad \forall y \in \mathcal{Y}, \forall f \in \mathcal{F}^{\text{ti}}_y\]</p><p>If the parameter <code>investment_integer</code> is set to true, then the right-hand side of this constraint uses a least integer function (floor function) to guarantee that the limit is integer.</p><h3 id="over-clustered-year-energy-constraints"><a class="docs-heading-anchor" href="#over-clustered-year-energy-constraints">Over-clustered-year Energy Constraints</a><a id="over-clustered-year-energy-constraints-1"></a><a class="docs-heading-anchor-permalink" href="#over-clustered-year-energy-constraints" title="Permalink"></a></h3><p>These constraints allow us to consider a maximum or minimum energy limit for an asset throughout the model&#39;s timeframe (e.g., a year). It uses the same principle explained in the <a href="#over-clustered-year-storage-balance">over-clustered-year constraint for storage balance</a> and in the <a href="../30-concepts/#storage-modeling">Storage Modeling</a> section.</p><h4 id="Maximum-Outgoing-Energy-During-the-Timeframe"><a class="docs-heading-anchor" href="#Maximum-Outgoing-Energy-During-the-Timeframe">Maximum Outgoing Energy During the Timeframe</a><a id="Maximum-Outgoing-Energy-During-the-Timeframe-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Outgoing-Energy-During-the-Timeframe" title="Permalink"></a></h4><p class="math-container">\[\begin{aligned}
\sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} \sum_{k_y \in \mathcal{K}_y} p^{\text{map}}_{p_y,k_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p^{\text{duration}}_{b_k} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \leq  p^{\text{max over-clustered-year-storage profile}}_{a,p_y} \cdot p^{\text{max energy}}_{a,y}
\\ \\ &amp; \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{max e}}, \forall p_y \in \mathcal{P}_y
\end{aligned}\]</p><h4 id="Minimum-Outgoing-Energy-During-the-Timeframe"><a class="docs-heading-anchor" href="#Minimum-Outgoing-Energy-During-the-Timeframe">Minimum Outgoing Energy During the Timeframe</a><a id="Minimum-Outgoing-Energy-During-the-Timeframe-1"></a><a class="docs-heading-anchor-permalink" href="#Minimum-Outgoing-Energy-During-the-Timeframe" title="Permalink"></a></h4><p class="math-container">\[\begin{aligned}
\sum_{f \in \mathcal{F}^{\text{out}}_{a,y}} \sum_{k_y \in \mathcal{K}_y} p^{\text{map}}_{p_y,k_y} \sum_{b_{k_y} \in \mathcal{B_{k_y}}} p^{\text{duration}}_{b_k} \cdot v^{\text{flow}}_{f,k_y,b_{k_y}} \geq  p^{\text{min over-clustered-year-storage profile}}_{a,p_y} \cdot p^{\text{min energy}}_{a,y}
\\ \\ &amp; \forall y \in \mathcal{Y}, \forall a \in \mathcal{A}^{\text{min e}}, \forall p_y \in \mathcal{P}_y
\end{aligned}\]</p><h3 id="group-constraints"><a class="docs-heading-anchor" href="#group-constraints">Constraints for Groups</a><a id="group-constraints-1"></a><a class="docs-heading-anchor-permalink" href="#group-constraints" title="Permalink"></a></h3><p>The following constraints aggregate variables of different assets depending on the method that applies to the group.</p><h4 id="investment-group-constraints"><a class="docs-heading-anchor" href="#investment-group-constraints">Investment Limits of a Group</a><a id="investment-group-constraints-1"></a><a class="docs-heading-anchor-permalink" href="#investment-group-constraints" title="Permalink"></a></h4><p>These constraints apply to assets in a group using the investment method <span>$\mathcal{G}^{\text{ai}}_y$</span>. They help impose an investment potential of a spatial area commonly shared by several assets that can be invested there.</p><div class="admonition is-info" id="Info-a5cf01c8b334f9da"><header class="admonition-header">Info<a class="admonition-anchor" href="#Info-a5cf01c8b334f9da" title="Permalink"></a></header><div class="admonition-body"><p>These constraints are applied to the investments each year. The model does not yet have investment limits to a group&#39;s available invested capacity.</p></div></div><h5 id="Minimum-Investment-Limit-of-a-Group"><a class="docs-heading-anchor" href="#Minimum-Investment-Limit-of-a-Group">Minimum Investment Limit of a Group</a><a id="Minimum-Investment-Limit-of-a-Group-1"></a><a class="docs-heading-anchor-permalink" href="#Minimum-Investment-Limit-of-a-Group" title="Permalink"></a></h5><p class="math-container">\[\begin{aligned}
\sum_{a \in \mathcal{A}^{\text{i}}_y | p^{\text{group}}_{a} = g} p^{\text{capacity}}_{a} \cdot v^{\text{inv}}_{a,y} \geq  p^{\text{min invest limit}}_{g,y}
\\ \\ &amp; \forall y \in \mathcal{Y}, \forall g \in \mathcal{G}^{\text{ai}}_y
\end{aligned}\]</p><h5 id="Maximum-Investment-Limit-of-a-Group"><a class="docs-heading-anchor" href="#Maximum-Investment-Limit-of-a-Group">Maximum Investment Limit of a Group</a><a id="Maximum-Investment-Limit-of-a-Group-1"></a><a class="docs-heading-anchor-permalink" href="#Maximum-Investment-Limit-of-a-Group" title="Permalink"></a></h5><p class="math-container">\[\begin{aligned}
\sum_{a \in \mathcal{A}^{\text{i}}_y | p^{\text{group}}_{a} = g} p^{\text{capacity}}_{a} \cdot v^{\text{inv}}_{a,y} \leq  p^{\text{max invest limit}}_{g,y}
\\ \\ &amp; \forall y \in \mathcal{Y}, \forall g \in \mathcal{G}^{\text{ai}}_y
\end{aligned}\]</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../30-concepts/">« Concepts</a><a class="docs-footer-nextpage" href="../45-scientific-references/">Scientific References »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Monday 14 July 2025 15:45">Monday 14 July 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
