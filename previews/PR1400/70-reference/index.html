<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · TulipaEnergyModel.jl</title><meta name="title" content="API Reference · TulipaEnergyModel.jl"/><meta property="og:title" content="API Reference · TulipaEnergyModel.jl"/><meta property="twitter:title" content="API Reference · TulipaEnergyModel.jl"/><meta name="description" content="Documentation for TulipaEnergyModel.jl."/><meta property="og:description" content="Documentation for TulipaEnergyModel.jl."/><meta property="twitter:description" content="Documentation for TulipaEnergyModel.jl."/><meta property="og:url" content="https://TulipaEnergy.github.io/TulipaEnergyModel.jl/70-reference/"/><meta property="twitter:url" content="https://TulipaEnergy.github.io/TulipaEnergyModel.jl/70-reference/"/><link rel="canonical" href="https://TulipaEnergy.github.io/TulipaEnergyModel.jl/70-reference/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="TulipaEnergyModel.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">TulipaEnergyModel.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Welcome</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../10-tutorials/11-setting-up/">Setting up</a></li><li><a class="tocitem" href="../10-tutorials/12-basics/">Tutorial 1: The Basics</a></li><li><a class="tocitem" href="../10-tutorials/13-assets/">Tutorial 2: Assets and Flows</a></li><li><a class="tocitem" href="../10-tutorials/14-fully-flexible-time/">Tutorial 3: Flexible Time Resolution</a></li><li><a class="tocitem" href="../10-tutorials/15-clustering-rep-periods/">Tutorial 4: Representative Periods with Tulipa Clustering</a></li><li><a class="tocitem" href="../10-tutorials/16-storage/">Tutorial 5: Seasonal and Non-seasonal Storage</a></li><li><a class="tocitem" href="../10-tutorials/17-multi-year-investments/">Tutorial 6: Multi-year investments</a></li><li><a class="tocitem" href="../10-tutorials/30-workflow/">Tutorial 7: Workflow</a></li><li><a class="tocitem" href="../10-tutorials/99-manual-steps/">Advanced Control</a></li></ul></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../20-user-guide/00-getting-started/">Getting Started</a></li><li><a class="tocitem" href="../20-user-guide/20-how-to-use/">How to Use</a></li><li><a class="tocitem" href="../20-user-guide/50-schemas/">Analysis Workflow</a></li><li><a class="tocitem" href="../20-user-guide/55-outputs/">Output Variables</a></li><li><a class="tocitem" href="../20-user-guide/60-structures/">Internal Model Structures</a></li></ul></li><li><a class="tocitem" href="../30-concepts/">Concepts</a></li><li><span class="tocitem">Scientific Foundation</span><ul><li><a class="tocitem" href="../40-scientific-foundation/40-formulation/">Mathematical Formulation</a></li><li><a class="tocitem" href="../40-scientific-foundation/45-scientific-references/">Scientific References</a></li></ul></li><li class="is-active"><a class="tocitem" href>API Reference</a></li><li><a class="tocitem" href="../80-ecosystem/">Tulipa Ecosystem</a></li><li><span class="tocitem">Contributing</span><ul><li><a class="tocitem" href="../90-contributing/90-contributing/">Contributing Guidelines</a></li><li><a class="tocitem" href="../90-contributing/91-developer/">Developer Documentation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/main/docs/src/70-reference.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="reference"><a class="docs-heading-anchor" href="#reference">API Reference</a><a id="reference-1"></a><a class="docs-heading-anchor-permalink" href="#reference" title="Permalink"></a></h1><ul><li><a href="#TulipaEnergyModel.DataValidationException"><code>TulipaEnergyModel.DataValidationException</code></a></li><li><a href="#TulipaEnergyModel.EnergyProblem"><code>TulipaEnergyModel.EnergyProblem</code></a></li><li><a href="#TulipaEnergyModel.ModelParameters"><code>TulipaEnergyModel.ModelParameters</code></a></li><li><a href="#TulipaEnergyModel.ProfileLookup"><code>TulipaEnergyModel.ProfileLookup</code></a></li><li><a href="#TulipaEnergyModel.TulipaConstraint"><code>TulipaEnergyModel.TulipaConstraint</code></a></li><li><a href="#TulipaEnergyModel.TulipaExpression"><code>TulipaEnergyModel.TulipaExpression</code></a></li><li><a href="#TulipaEnergyModel.TulipaTabularIndex"><code>TulipaEnergyModel.TulipaTabularIndex</code></a></li><li><a href="#TulipaEnergyModel.TulipaVariable"><code>TulipaEnergyModel.TulipaVariable</code></a></li><li><a href="#TulipaEnergyModel._append_variable_ids-Tuple{Any, Any, Any}"><code>TulipaEnergyModel._append_variable_ids</code></a></li><li><a href="#TulipaEnergyModel._check_if_table_exists-Tuple{Any, Any}"><code>TulipaEnergyModel._check_if_table_exists</code></a></li><li><a href="#TulipaEnergyModel._create_group_table_if_not_exist!-NTuple{5, Any}"><code>TulipaEnergyModel._create_group_table_if_not_exist!</code></a></li><li><a href="#TulipaEnergyModel._create_variables_from_indices!-NTuple{4, Any}"><code>TulipaEnergyModel._create_variables_from_indices!</code></a></li><li><a href="#TulipaEnergyModel._create_variables_from_specifications!-Tuple{Any, Any, Any}"><code>TulipaEnergyModel._create_variables_from_specifications!</code></a></li><li><a href="#TulipaEnergyModel._get_decommission_variable_specifications-Tuple{}"><code>TulipaEnergyModel._get_decommission_variable_specifications</code></a></li><li><a href="#TulipaEnergyModel._get_investment_variable_specifications-Tuple{}"><code>TulipaEnergyModel._get_investment_variable_specifications</code></a></li><li><a href="#TulipaEnergyModel._profile_aggregate-Tuple{Dict, Tuple, Any, Any, Any}"><code>TulipaEnergyModel._profile_aggregate</code></a></li><li><a href="#TulipaEnergyModel._sql_arguments_for_defaults-Tuple{Any, Any, Any}"><code>TulipaEnergyModel._sql_arguments_for_defaults</code></a></li><li><a href="#TulipaEnergyModel.add_capacity_constraints!-NTuple{5, Any}"><code>TulipaEnergyModel.add_capacity_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_capacity_outgoing_semi_compact_method_constraints!-NTuple{5, Any}"><code>TulipaEnergyModel.add_capacity_outgoing_semi_compact_method_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_consumer_constraints!-NTuple{4, Any}"><code>TulipaEnergyModel.add_consumer_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_conversion_constraints!-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.add_conversion_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_dc_power_flow_constraints!-NTuple{5, Any}"><code>TulipaEnergyModel.add_dc_power_flow_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_decommission_variables!-Tuple{Any, Any}"><code>TulipaEnergyModel.add_decommission_variables!</code></a></li><li><a href="#TulipaEnergyModel.add_energy_constraints!-NTuple{4, Any}"><code>TulipaEnergyModel.add_energy_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_expression_terms_over_clustered_year_constraints!-Tuple{Any, TulipaConstraint, TulipaVariable, Any}"><code>TulipaEnergyModel.add_expression_terms_over_clustered_year_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_expression_terms_rep_period_constraints!-Tuple{Any, TulipaConstraint, TulipaVariable, Any}"><code>TulipaEnergyModel.add_expression_terms_rep_period_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_flow_variables!-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.add_flow_variables!</code></a></li><li><a href="#TulipaEnergyModel.add_flows_relationships_constraints!-NTuple{4, Any}"><code>TulipaEnergyModel.add_flows_relationships_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_group_constraints!-NTuple{4, Any}"><code>TulipaEnergyModel.add_group_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_hub_constraints!-Tuple{Any, Any}"><code>TulipaEnergyModel.add_hub_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_investment_variables!-Tuple{Any, Any}"><code>TulipaEnergyModel.add_investment_variables!</code></a></li><li><a href="#TulipaEnergyModel.add_limit_decommission_compact_method_constraints!-NTuple{4, Any}"><code>TulipaEnergyModel.add_limit_decommission_compact_method_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_power_flow_variables!-Tuple{Any, Any}"><code>TulipaEnergyModel.add_power_flow_variables!</code></a></li><li><a href="#TulipaEnergyModel.add_ramping_constraints!-NTuple{6, Any}"><code>TulipaEnergyModel.add_ramping_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_rolling_horizon_parameters!-NTuple{5, Any}"><code>TulipaEnergyModel.add_rolling_horizon_parameters!</code></a></li><li><a href="#TulipaEnergyModel.add_scalar_rolling_horizon_parameter!-NTuple{4, Any}"><code>TulipaEnergyModel.add_scalar_rolling_horizon_parameter!</code></a></li><li><a href="#TulipaEnergyModel.add_shut_down_upper_bound_constraints!-NTuple{5, Any}"><code>TulipaEnergyModel.add_shut_down_upper_bound_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_start_up_and_shut_down_variables!-Tuple{Any, Any}"><code>TulipaEnergyModel.add_start_up_and_shut_down_variables!</code></a></li><li><a href="#TulipaEnergyModel.add_start_up_upper_bound_constraints!-NTuple{5, Any}"><code>TulipaEnergyModel.add_start_up_upper_bound_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_storage_constraints!-NTuple{6, Any}"><code>TulipaEnergyModel.add_storage_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_storage_variables!-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.add_storage_variables!</code></a></li><li><a href="#TulipaEnergyModel.add_transport_constraints!-NTuple{6, Any}"><code>TulipaEnergyModel.add_transport_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_uc_logic_constraints!-NTuple{5, Any}"><code>TulipaEnergyModel.add_uc_logic_constraints!</code></a></li><li><a href="#TulipaEnergyModel.add_unit_commitment_variables!-Tuple{Any, Any}"><code>TulipaEnergyModel.add_unit_commitment_variables!</code></a></li><li><a href="#TulipaEnergyModel.add_vintage_flow_sum_constraints!-NTuple{4, Any}"><code>TulipaEnergyModel.add_vintage_flow_sum_constraints!</code></a></li><li><a href="#TulipaEnergyModel.attach_coefficient!-Tuple{TulipaConstraint, Symbol, Any}"><code>TulipaEnergyModel.attach_coefficient!</code></a></li><li><a href="#TulipaEnergyModel.attach_constraint!-Tuple{JuMP.Model, TulipaConstraint, Symbol, Vector{&lt;:JuMP.ConstraintRef}}"><code>TulipaEnergyModel.attach_constraint!</code></a></li><li><a href="#TulipaEnergyModel.attach_expression!-Tuple{TulipaEnergyModel.TulipaTabularIndex, Symbol, Union{Vector{JuMP.AbstractJuMPScalar}, Vector{JuMP.AffExpr}}}"><code>TulipaEnergyModel.attach_expression!</code></a></li><li><a href="#TulipaEnergyModel.attach_expression_on_constraints_grouping_variables!-Tuple{Any, TulipaConstraint, TulipaVariable, Any, Any}"><code>TulipaEnergyModel.attach_expression_on_constraints_grouping_variables!</code></a></li><li><a href="#TulipaEnergyModel.compute_dual_variables!-Tuple{Any}"><code>TulipaEnergyModel.compute_dual_variables!</code></a></li><li><a href="#TulipaEnergyModel.create_internal_tables!-Tuple{Any}"><code>TulipaEnergyModel.create_internal_tables!</code></a></li><li><a href="#TulipaEnergyModel.create_merged_tables!-Tuple{Any}"><code>TulipaEnergyModel.create_merged_tables!</code></a></li><li><a href="#TulipaEnergyModel.create_model-NTuple{5, Any}"><code>TulipaEnergyModel.create_model</code></a></li><li><a href="#TulipaEnergyModel.create_model!-Tuple{Any}"><code>TulipaEnergyModel.create_model!</code></a></li><li><a href="#TulipaEnergyModel.create_unrolled_partition_tables!-Tuple{Any}"><code>TulipaEnergyModel.create_unrolled_partition_tables!</code></a></li><li><a href="#TulipaEnergyModel.default_parameters-Tuple{Any}"><code>TulipaEnergyModel.default_parameters</code></a></li><li><a href="#TulipaEnergyModel.export_solution_to_csv_files-Tuple{Any, Any}"><code>TulipaEnergyModel.export_solution_to_csv_files</code></a></li><li><a href="#TulipaEnergyModel.export_solution_to_csv_files-Tuple{Any, EnergyProblem}"><code>TulipaEnergyModel.export_solution_to_csv_files</code></a></li><li><a href="#TulipaEnergyModel.get_single_element_from_query_and_ensure_its_only_one-Tuple{DuckDB.QueryResult}"><code>TulipaEnergyModel.get_single_element_from_query_and_ensure_its_only_one</code></a></li><li><a href="#TulipaEnergyModel.populate_with_defaults!-Tuple{Any}"><code>TulipaEnergyModel.populate_with_defaults!</code></a></li><li><a href="#TulipaEnergyModel.prepare_rolling_horizon_tables!-NTuple{4, Any}"><code>TulipaEnergyModel.prepare_rolling_horizon_tables!</code></a></li><li><a href="#TulipaEnergyModel.prepare_tables_to_leave_rolling_horizon!-Tuple{Any, Any}"><code>TulipaEnergyModel.prepare_tables_to_leave_rolling_horizon!</code></a></li><li><a href="#TulipaEnergyModel.read_parameters_from_file-Tuple{Any}"><code>TulipaEnergyModel.read_parameters_from_file</code></a></li><li><a href="#TulipaEnergyModel.run_rolling_horizon-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.run_rolling_horizon</code></a></li><li><a href="#TulipaEnergyModel.run_scenario-Tuple{Any}"><code>TulipaEnergyModel.run_scenario</code></a></li><li><a href="#TulipaEnergyModel.save_solution!-NTuple{4, Any}"><code>TulipaEnergyModel.save_solution!</code></a></li><li><a href="#TulipaEnergyModel.save_solution!-Tuple{EnergyProblem}"><code>TulipaEnergyModel.save_solution!</code></a></li><li><a href="#TulipaEnergyModel.save_solution_into_tables!-NTuple{7, Any}"><code>TulipaEnergyModel.save_solution_into_tables!</code></a></li><li><a href="#TulipaEnergyModel.solve_model-Tuple{JuMP.Model}"><code>TulipaEnergyModel.solve_model</code></a></li><li><a href="#TulipaEnergyModel.solve_model!-Tuple{EnergyProblem}"><code>TulipaEnergyModel.solve_model!</code></a></li><li><a href="#TulipaEnergyModel.update_initial_storage_level!-Tuple{TulipaVariable, Any, Any}"><code>TulipaEnergyModel.update_initial_storage_level!</code></a></li><li><a href="#TulipaEnergyModel.update_rolling_horizon_profiles!-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.update_rolling_horizon_profiles!</code></a></li><li><a href="#TulipaEnergyModel.update_scalar_parameters!-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.update_scalar_parameters!</code></a></li><li><a href="#TulipaEnergyModel.validate_data!-Tuple{Any}"><code>TulipaEnergyModel.validate_data!</code></a></li><li><a href="#TulipaEnergyModel.validate_rolling_horizon_input-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.validate_rolling_horizon_input</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.DataValidationException" href="#TulipaEnergyModel.DataValidationException"><code>TulipaEnergyModel.DataValidationException</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DataValidationException</code></pre><p>Exception related to data validation of the Tulipa Energy Model input data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/data-validation.jl#L6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.EnergyProblem" href="#TulipaEnergyModel.EnergyProblem"><code>TulipaEnergyModel.EnergyProblem</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">EnergyProblem</code></pre><p>Structure to hold all parts of an energy problem. It is a wrapper around various other relevant structures. It hides the complexity behind the energy problem, making the usage more friendly, although more verbose.</p><p><strong>Fields</strong></p><ul><li><code>db_connection</code>: A DuckDB connection to the input tables in the model.</li><li><code>variables</code>: A dictionary of <a href="#TulipaEnergyModel.TulipaVariable">TulipaVariable</a>s containing the variables of the model.</li><li><code>expressions</code>: A dictionary of <a href="#TulipaEnergyModel.TulipaExpression">TulipaExpression</a>s containing the expressions of the model attached to tables.</li><li><code>constraints</code>: A dictionary of <a href="#TulipaEnergyModel.TulipaConstraint">TulipaConstraint</a>s containing the constraints of the model.</li><li><code>profiles</code>: Holds the profiles per <code>rep_period</code> or <code>over_clustered_year</code> in dictionary format. See <a href="#TulipaEnergyModel.ProfileLookup">ProfileLookup</a>.</li><li><code>model_parameters</code>: A <a href="#TulipaEnergyModel.ModelParameters">ModelParameters</a> structure to store all the parameters that are exclusive of the model.</li><li><code>model</code>: A JuMP.Model object representing the optimization model.</li><li><code>solved</code>: A boolean indicating whether the <code>model</code> has been solved or not.</li><li><code>objective_value</code>: The objective value of the solved problem (Float64).</li><li><code>termination_status</code>: The termination status of the optimization model.</li></ul><p><strong>Constructor</strong></p><ul><li><code>EnergyProblem(connection)</code>: Constructs a new <code>EnergyProblem</code> object with the given connection.</li></ul><p>The <code>constraints_partitions</code> field is computed from the <code>representative_periods</code>, and the other fields are initialized with default values.</p><p>See the <a href="../10-tutorials/12-basics/#basic-example">basic example tutorial</a> to see how these can be used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/structures.jl#L235-L261">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.ModelParameters" href="#TulipaEnergyModel.ModelParameters"><code>TulipaEnergyModel.ModelParameters</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ModelParameters(;key = value, ...)
ModelParameters(path; ...)
ModelParameters(connection; ...)
ModelParameters(connection, path; ...)</code></pre><p>Structure to hold the model parameters. Some values are defined by default and some required explicit definition.</p><p>If <code>path</code> is passed, it is expected to be a string pointing to a TOML file with a <code>key = value</code> list of parameters. Explicit keyword arguments take precedence.</p><p>If <code>connection</code> is passed, the default <code>discount_year</code> is set to the minimum of all milestone years. In other words, we check for the table <code>year_data</code> for the column <code>year</code> where the column <code>is_milestone</code> is true. Explicit keyword arguments take precedence.</p><p>If both are passed, then <code>path</code> has preference. Explicit keyword arguments take precedence.</p><p><strong>Parameters</strong></p><ul><li><code>discount_rate::Float64 = 0.0</code>: The model discount rate.</li><li><code>discount_year::Int</code>: The model discount year.</li><li><code>power_system_base::Float64 = 100.0</code>: The power system base in MVA.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/model-parameters.jl#L3-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.ProfileLookup" href="#TulipaEnergyModel.ProfileLookup"><code>TulipaEnergyModel.ProfileLookup</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Structure to hold the dictionaries of profiles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/structures.jl#L222-L224">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.TulipaConstraint" href="#TulipaEnergyModel.TulipaConstraint"><code>TulipaEnergyModel.TulipaConstraint</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Structure to hold the JuMP constraints for the TulipaEnergyModel</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/structures.jl#L58-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.TulipaExpression" href="#TulipaEnergyModel.TulipaExpression"><code>TulipaEnergyModel.TulipaExpression</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Structure to hold some JuMP expressions that are not attached to constraints but are attached to a table.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/structures.jl#L85-L87">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.TulipaTabularIndex" href="#TulipaEnergyModel.TulipaTabularIndex"><code>TulipaEnergyModel.TulipaTabularIndex</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TulipaTabularIndex</code></pre><p>Abstract structure for TulipaVariable, TulipaConstraint and TulipaExpression. All deriving types must satisfy:</p><ul><li>Have fields<ul><li><code>indices::DuckDB.QueryResult</code></li><li><code>table_name</code>::String</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/structures.jl#L18-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.TulipaVariable" href="#TulipaEnergyModel.TulipaVariable"><code>TulipaEnergyModel.TulipaVariable</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Structure to hold the JuMP variables for the TulipaEnergyModel</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/structures.jl#L41-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel._append_variable_ids-Tuple{Any, Any, Any}" href="#TulipaEnergyModel._append_variable_ids-Tuple{Any, Any, Any}"><code>TulipaEnergyModel._append_variable_ids</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_append_variable_ids(
    connection,
    constraint_table_name,
    variables_to_append,
)</code></pre><p>Create table containing all rows of the given constraint (<code>constraint_table_name</code>) and their matching variable ids of the variables in <code>variables_to_append</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/utils.jl#L136-L144">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel._check_if_table_exists-Tuple{Any, Any}" href="#TulipaEnergyModel._check_if_table_exists-Tuple{Any, Any}"><code>TulipaEnergyModel._check_if_table_exists</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_check_if_table_exists(connection, table_name)</code></pre><p>Check if table <code>table_name</code> exists in the connection.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/utils.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel._create_group_table_if_not_exist!-NTuple{5, Any}" href="#TulipaEnergyModel._create_group_table_if_not_exist!-NTuple{5, Any}"><code>TulipaEnergyModel._create_group_table_if_not_exist!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_create_group_table_if_not_exist!(
    connection,
    table_name,
    grouped_table_name,
    group_by_columns,
    array_agg_columns;
    rename_columns = Dict(),
    order_agg_by = &quot;id&quot;,
)</code></pre><p>Create a grouped table grouping the <code>table_name</code> into the <code>grouped_table_name</code>. The <code>group_by_columns</code> are the columns that are used in the group by (e.g., asset, year, rep<em>period), and the `array</em>agg<em>columns` are the columns that are aggregated into arrays (e.g., id, time</em>block<em>start, time</em>block_end).</p><p>It is expected that the original table has an <code>id</code> column, which is used in the ordering of the <code>array_agg_columns</code>. Otherwise, please pass the argument <code>order_agg_by</code> with the column that should be used for this ordering.</p><p>If one of the columns has to be renamed, use the <code>rename_columns</code> dictionary.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/utils.jl#L62-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel._create_variables_from_indices!-NTuple{4, Any}" href="#TulipaEnergyModel._create_variables_from_indices!-NTuple{4, Any}"><code>TulipaEnergyModel._create_variables_from_indices!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_create_variables_from_indices!(
model,
variables,
name,
keys_from_row;
lower_bound_from_row = row -&gt; -Inf,
upper_bound_from_row = row -&gt; Inf,
integer_from_row = row -&gt; false,</code></pre><p>)</p><p>This function creates variables by iterating over the variable indices, where each variable can have different properties determined by the index/row data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/variables/create.jl#L32-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel._create_variables_from_specifications!-Tuple{Any, Any, Any}" href="#TulipaEnergyModel._create_variables_from_specifications!-Tuple{Any, Any, Any}"><code>TulipaEnergyModel._create_variables_from_specifications!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_create_variables_from_specifications!(model, variables, specifications)</code></pre><p>Creates variables based on a dictionary of specifications. Each specification should contain keys<em>from</em>row, lower<em>bound</em>from<em>row, upper</em>bound<em>from</em>row, and integer<em>from</em>row functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/variables/create.jl#L68-L73">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel._get_decommission_variable_specifications-Tuple{}" href="#TulipaEnergyModel._get_decommission_variable_specifications-Tuple{}"><code>TulipaEnergyModel._get_decommission_variable_specifications</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_get_decommission_variable_specifications()</code></pre><p>Returns a dictionary containing specifications for all decommission variables. Each specification includes the keys extraction function, bounds functions, and integer constraint function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/variables/decommission.jl#L3-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel._get_investment_variable_specifications-Tuple{}" href="#TulipaEnergyModel._get_investment_variable_specifications-Tuple{}"><code>TulipaEnergyModel._get_investment_variable_specifications</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_get_investment_variable_specifications()</code></pre><p>Returns a dictionary containing specifications for all investment variables. Each specification includes the keys extraction function, bounds functions, and integer constraint function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/variables/investments.jl#L3-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel._profile_aggregate-Tuple{Dict, Tuple, Any, Any, Any}" href="#TulipaEnergyModel._profile_aggregate-Tuple{Dict, Tuple, Any, Any, Any}"><code>TulipaEnergyModel._profile_aggregate</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_profile_aggregate(profiles, tuple_key, time_block, agg_functions, default_value)</code></pre><p>Aggregates the <code>profiles[tuple_key]</code> over the <code>time_block</code> using the <code>agg_function</code> function. If the profile does not exist, uses <code>default_value</code> instead of <strong>each</strong> profile value.</p><p><code>profiles</code> should be a dictionary of profiles, and <code>tuple_key</code> should be either <code>(profile_name, year, rep_period)</code> for the profiles of representative periods or <code>(profile_name, year)</code> for the profiles over clustered years.</p><p>If <code>profiles[tuple_key]</code> exists, then this function computes the aggregation of <code>V = profiles[tuple_key]</code> over the range <code>time_block</code> using the aggregator <code>agg_function</code>, i.e., <code>agg_function(V[time_block])</code>. If it does not exist, then <code>V[time_block]</code> is substituted by a vector of the corresponding size and <code>default_value</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/utils.jl#L16-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel._sql_arguments_for_defaults-Tuple{Any, Any, Any}" href="#TulipaEnergyModel._sql_arguments_for_defaults-Tuple{Any, Any, Any}"><code>TulipaEnergyModel._sql_arguments_for_defaults</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_str, select_str = _sql_arguments_for_defaults(connection, table_name, table_schema)</code></pre><p>Returns the strings to complement the table creation informing the name, type and possible default, and the select with coalescing and type casting.</p><p>The <code>table_schema</code> should be the complete schema, not only the <code>type</code>. For instance, <code>TulipaEnergyModel.schema[table_name]</code>.</p><p>For each column of the <code>table_name</code> table, the creation string is like</p><pre><code class="language-julia hljs">COLUMN_NAME COLUMN_TYPE
-- For a column with no default type</code></pre><p>or</p><pre><code class="language-julia hljs">COLUMN_NAME COLUMN_TYPE DEFAULT COLUMN_DEFAULT
-- For a column with default type</code></pre><p>and the selection string is like</p><pre><code class="language-julia hljs">COLUMN_NAME::COLUMN_TYPE
-- For an existing column with no default type</code></pre><p>or</p><pre><code class="language-julia hljs">COALESCE(COLUMN_NAME::COLUMN_TYPE, COLUMN_DEFAULT) AS COLUMN_NAME
-- For an existing column with default type</code></pre><p>or</p><pre><code class="language-julia hljs">COLUMN_DEFAULT::COLUMN_TYPE AS COLUMN_NAME
-- For a non-existing column, just use the default type</code></pre><p>The name, type, and defaults are based on the existing table, but overridden by the <code>table_schema</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/data-preparation.jl#L3-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_capacity_constraints!-NTuple{5, Any}" href="#TulipaEnergyModel.add_capacity_constraints!-NTuple{5, Any}"><code>TulipaEnergyModel.add_capacity_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_capacity_constraints!(connection, model, expressions, constraints, profiles)</code></pre><p>Adds the capacity constraints for all asset types to the model</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/capacity.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_capacity_outgoing_semi_compact_method_constraints!-NTuple{5, Any}" href="#TulipaEnergyModel.add_capacity_outgoing_semi_compact_method_constraints!-NTuple{5, Any}"><code>TulipaEnergyModel.add_capacity_outgoing_semi_compact_method_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_capacity_outgoing_semi_compact_method_constraints!(connection, model, expressions, constraints, profiles)</code></pre><p>Adds the capacity constraints for the semi-compact investment method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/capacity.jl#L378-L382">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_consumer_constraints!-NTuple{4, Any}" href="#TulipaEnergyModel.add_consumer_constraints!-NTuple{4, Any}"><code>TulipaEnergyModel.add_consumer_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_consumer_constraints!(connection, model, constraints, profiles)</code></pre><p>Adds the consumer asset constraints to the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/consumer.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_conversion_constraints!-Tuple{Any, Any, Any}" href="#TulipaEnergyModel.add_conversion_constraints!-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.add_conversion_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_conversion_constraints!(connection, model, constraints)</code></pre><p>Adds the conversion asset constraints to the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/conversion.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_dc_power_flow_constraints!-NTuple{5, Any}" href="#TulipaEnergyModel.add_dc_power_flow_constraints!-NTuple{5, Any}"><code>TulipaEnergyModel.add_dc_power_flow_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_dc_power_flow_constraints!(connection, model, variables, constraints, model_parameters)</code></pre><p>Adds the dc power flow constraints to the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/power_flow.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_decommission_variables!-Tuple{Any, Any}" href="#TulipaEnergyModel.add_decommission_variables!-Tuple{Any, Any}"><code>TulipaEnergyModel.add_decommission_variables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_decommission_variables!(model, variables)</code></pre><p>Adds decommission variables to the optimization <code>model</code>, and sets bounds on selected variables based on the input data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/variables/decommission.jl#L33-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_energy_constraints!-NTuple{4, Any}" href="#TulipaEnergyModel.add_energy_constraints!-NTuple{4, Any}"><code>TulipaEnergyModel.add_energy_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_energy_constraints!(connection, model, constraints, profiles)</code></pre><p>Adds the energy constraints for assets within the period blocks of the timeframe (over<em>clustered</em>year) to the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/energy.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_expression_terms_over_clustered_year_constraints!-Tuple{Any, TulipaConstraint, TulipaVariable, Any}" href="#TulipaEnergyModel.add_expression_terms_over_clustered_year_constraints!-Tuple{Any, TulipaConstraint, TulipaVariable, Any}"><code>TulipaEnergyModel.add_expression_terms_over_clustered_year_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_expression_terms_over_clustered_year_constraints!(
    connection,
    cons,
    flow,
    profiles;
    is_storage_level = false,
)</code></pre><p>Computes the incoming and outgoing expressions per row of df_inter for the constraints that are between (inter) the representative periods.</p><p>This function is only used internally in the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/model-preparation.jl#L252-L266">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_expression_terms_rep_period_constraints!-Tuple{Any, TulipaConstraint, TulipaVariable, Any}" href="#TulipaEnergyModel.add_expression_terms_rep_period_constraints!-Tuple{Any, TulipaConstraint, TulipaVariable, Any}"><code>TulipaEnergyModel.add_expression_terms_rep_period_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_expression_terms_rep_period_constraints!(
    connection,
    cons::TulipaConstraint,
    flow::TulipaVariable,
    workspace;
    use_highest_resolution = true,
    multiply_by_duration = true,
    add_min_outgoing_flow_duration = false,
    multiply_by_capacity_coefficient = false,
    include_commission_year = false,
)</code></pre><p>Computes the incoming and outgoing expressions per row of <code>cons</code> for the constraints that are within the representative periods.</p><p>Include<em>commission</em>year is only used for the constraints regarding the flows for the semi-compact investment method. If true, the expression will include the commission year of the flows. If false (the default), it will only use the year (i.e., milestone_year).</p><p>This function is only used internally in the model.</p><p>This strategy is based on the replies in this discourse thread:</p><ul><li>https://discourse.julialang.org/t/help-improving-the-speed-of-a-dataframes-operation/107615/23</li></ul><p><strong>Implementation</strong></p><p>This expression computation uses a workspace to store all variables defined for each timestep. The idea of this algorithm is to append all variables defined at time <code>timestep</code> in <code>workspace[timestep]</code> and then aggregate then for the constraint time block.</p><p>The algorithm works like this:</p><pre><code class="language-julia hljs">1. Loop over each group of (asset, year, rep_period)
1.1. Loop over each variable in the group: (var_id, var_time_block_start, var_time_block_end)
1.1.1. Loop over each timestep in var_time_block_start:var_time_block_end
1.1.1.1. Compute the coefficient of the variable based on the rep_period resolution and the variable efficiency
1.1.1.2. Store (var_id, coefficient) in workspace[timestep]
1.2. Loop over each constraint in the group: (cons_id, cons_time_block_start, cons_time_block_end)
1.2.1. Aggregate all variables in workspace[timestep] for timestep in the time block to create a list of variable ids and their coefficients [(var_id1, coef1), ...]
1.2.2. Compute the expression using the variable container, the ids and coefficients</code></pre><p>Note:</p><ul><li>On step 1.2.1, the aggregation can be either by uniqueness or not, i.e., if the variable happens in more that one <code>workspace[timestep]</code>, should we add up the coefficients or not. This is defined by the keyword <code>multiply_by_duration</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/model-preparation.jl#L4-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_flow_variables!-Tuple{Any, Any, Any}" href="#TulipaEnergyModel.add_flow_variables!-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.add_flow_variables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_flow_variables!(connection, model, variables)</code></pre><p>Adds flow variables to the optimization <code>model</code> based on data from the <code>variables</code>. The flow variables are created using the <code>@variable</code> macro for each row in the <code>:flow</code> table.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/variables/flows.jl#L3-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_flows_relationships_constraints!-NTuple{4, Any}" href="#TulipaEnergyModel.add_flows_relationships_constraints!-NTuple{4, Any}"><code>TulipaEnergyModel.add_flows_relationships_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_flows_relationships_constraints!(connection, model, variables, constraints)</code></pre><p>Adds the flows relationships constraints to the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/flows-relationships.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_group_constraints!-NTuple{4, Any}" href="#TulipaEnergyModel.add_group_constraints!-NTuple{4, Any}"><code>TulipaEnergyModel.add_group_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_group_constraints!(connection, model, variables, constraints)</code></pre><p>Adds group constraints for assets that share a common limits or bounds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/group.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_hub_constraints!-Tuple{Any, Any}" href="#TulipaEnergyModel.add_hub_constraints!-Tuple{Any, Any}"><code>TulipaEnergyModel.add_hub_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_hub_constraints!(model, constraints)</code></pre><p>Adds the hub asset constraints to the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/hub.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_investment_variables!-Tuple{Any, Any}" href="#TulipaEnergyModel.add_investment_variables!-Tuple{Any, Any}"><code>TulipaEnergyModel.add_investment_variables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_investment_variables!(model, variables)</code></pre><p>Adds investment variables to the optimization <code>model</code>, and sets bounds on selected variables based on the input data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/variables/investments.jl#L44-L49">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_limit_decommission_compact_method_constraints!-NTuple{4, Any}" href="#TulipaEnergyModel.add_limit_decommission_compact_method_constraints!-NTuple{4, Any}"><code>TulipaEnergyModel.add_limit_decommission_compact_method_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_limit_decommission_compact_method_constraints!(connection, model, expressions, constraints)</code></pre><p>Adds the lower bound for the available capacity of decommissionable assets for the compact investment method. This is used to give a upper bound for the decommission variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/capacity.jl#L439-L444">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_power_flow_variables!-Tuple{Any, Any}" href="#TulipaEnergyModel.add_power_flow_variables!-Tuple{Any, Any}"><code>TulipaEnergyModel.add_power_flow_variables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_power_flow_variables!(model, variables)</code></pre><p>Adds power flow variables to the optimization <code>model</code> based on the <code>:electricity_angle</code> indices.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/variables/power-flow.jl#L3-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_ramping_constraints!-NTuple{6, Any}" href="#TulipaEnergyModel.add_ramping_constraints!-NTuple{6, Any}"><code>TulipaEnergyModel.add_ramping_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_ramping_and_unit_commitment_constraints!(
    connection,
    model,
    variables,
    expressions,
    constraints,
    profiles
)</code></pre><p>Adds the ramping constraints for producer and conversion assets where ramping = true in assets_data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/ramping-and-unit-commitment.jl#L3-L14">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_rolling_horizon_parameters!-NTuple{5, Any}" href="#TulipaEnergyModel.add_rolling_horizon_parameters!-NTuple{5, Any}"><code>TulipaEnergyModel.add_rolling_horizon_parameters!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_rolling_horizon_parameters!(connection, model, variables, profiles, window_length)</code></pre><p>Create Parameters to handle rolling horizon.</p><p>The profile parameters are attached to <code>profiles.rep_period</code>.</p><p>The other parameters are the ones that have initial value (currently only initial<em>storage</em>level). These must be filtered from the corresponding indices table when time<em>block</em>start = 1. The corresponding parameters is saved in the variables and in the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/rolling-horizon/create.jl#L24-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_scalar_rolling_horizon_parameter!-NTuple{4, Any}" href="#TulipaEnergyModel.add_scalar_rolling_horizon_parameter!-NTuple{4, Any}"><code>TulipaEnergyModel.add_scalar_rolling_horizon_parameter!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_scalar_rolling_horizon_parameter!(model, variables, connection, param_table_name)</code></pre><p>Create the rolling horizon Parameters for the table <code>param_table_name</code>. This assumes that the table named <code>param_table_name</code> has a column <code>original_value</code> and uses that as initial value for the variable.</p><p>The container is saved in the <code>model[key]</code> and the <code>TulipaVariable</code> for the parameter is stored in <code>variables[key]</code>, where <code>key = Symbol(param_table_name)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/rolling-horizon/create.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_shut_down_upper_bound_constraints!-NTuple{5, Any}" href="#TulipaEnergyModel.add_shut_down_upper_bound_constraints!-NTuple{5, Any}"><code>TulipaEnergyModel.add_shut_down_upper_bound_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_shut_down_upper_bound_constraints!(model, constraints)</code></pre><p>Adds the shut down constraints to the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/unit-commitment-shut-down-upper-bound.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_start_up_and_shut_down_variables!-Tuple{Any, Any}" href="#TulipaEnergyModel.add_start_up_and_shut_down_variables!-Tuple{Any, Any}"><code>TulipaEnergyModel.add_start_up_and_shut_down_variables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_start_up_and_shut_down_variables!(model, variables)</code></pre><p>Adds 3var UC variables to the optimization <code>model</code> based on the <code>:start_up</code> and <code>:shut_down</code> indices. Additionally, variables are constrained to be integers based on the <code>unit_commitment_integer</code> property.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/variables/unit-commitment.jl#L26-L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_start_up_upper_bound_constraints!-NTuple{5, Any}" href="#TulipaEnergyModel.add_start_up_upper_bound_constraints!-NTuple{5, Any}"><code>TulipaEnergyModel.add_start_up_upper_bound_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_start_up_upper_bound_constraints!(model, constraints)

Adds the start up upper bound constraints to the model.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/unit-commitment-start-up-upper-bound.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_storage_constraints!-NTuple{6, Any}" href="#TulipaEnergyModel.add_storage_constraints!-NTuple{6, Any}"><code>TulipaEnergyModel.add_storage_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_storage_constraints!(connection, model, variables, expressions, constraints, profiles)</code></pre><p>Adds the storage asset constraints to the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/storage.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_storage_variables!-Tuple{Any, Any, Any}" href="#TulipaEnergyModel.add_storage_variables!-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.add_storage_variables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_storage_variables!(connection, model, variables)</code></pre><p>Adds storage-related variables to the optimization <code>model</code>, including storage levels for both within rep-period and over-clustered-year, as well as charging state variables. The function also optionally sets binary constraints for certain charging variables based on storage methods.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/variables/storage.jl#L3-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_transport_constraints!-NTuple{6, Any}" href="#TulipaEnergyModel.add_transport_constraints!-NTuple{6, Any}"><code>TulipaEnergyModel.add_transport_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_transport_constraints!(connection, model, variables, expressions, constraints, profiles)</code></pre><p>Adds the transport flow constraints to the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/transport.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_uc_logic_constraints!-NTuple{5, Any}" href="#TulipaEnergyModel.add_uc_logic_constraints!-NTuple{5, Any}"><code>TulipaEnergyModel.add_uc_logic_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_uc_logic_constraints!(model, constraints)</code></pre><p>Adds the unit commitment logic constraint (i.e., start up - shut down = units_on difference) to the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/unit-commitment-logic.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_unit_commitment_variables!-Tuple{Any, Any}" href="#TulipaEnergyModel.add_unit_commitment_variables!-Tuple{Any, Any}"><code>TulipaEnergyModel.add_unit_commitment_variables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_unit_commitment_variables!(model, variables)</code></pre><p>Adds unit commitment variables to the optimization <code>model</code> based on the <code>:units_on</code> indices. Additionally, variables are constrained to be integers based on the <code>unit_commitment_integer</code> property.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/variables/unit-commitment.jl#L4-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.add_vintage_flow_sum_constraints!-NTuple{4, Any}" href="#TulipaEnergyModel.add_vintage_flow_sum_constraints!-NTuple{4, Any}"><code>TulipaEnergyModel.add_vintage_flow_sum_constraints!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_vintage_flow_sum_constraints!(connection, model, variables, constraints)</code></pre><p>Adds the vintage flow sum constraints to the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/constraints/vintage-flow.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.attach_coefficient!-Tuple{TulipaConstraint, Symbol, Any}" href="#TulipaEnergyModel.attach_coefficient!-Tuple{TulipaConstraint, Symbol, Any}"><code>TulipaEnergyModel.attach_coefficient!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">attach_coefficient!(cons, name, container)</code></pre><p>Attach a coefficient named <code>name</code> stored in <code>container</code>. This checks that the <code>container</code> length matches the stored <code>indices</code> number of rows.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/structures.jl#L199-L204">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.attach_constraint!-Tuple{JuMP.Model, TulipaConstraint, Symbol, Vector{&lt;:JuMP.ConstraintRef}}" href="#TulipaEnergyModel.attach_constraint!-Tuple{JuMP.Model, TulipaConstraint, Symbol, Vector{&lt;:JuMP.ConstraintRef}}"><code>TulipaEnergyModel.attach_constraint!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">attach_constraint!(model, cons, name, container)</code></pre><p>Attach a constraint named <code>name</code> stored in <code>container</code>, and set <code>model[name] = container</code>. This checks that the <code>container</code> length matches the stored <code>indices</code> number of rows.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/structures.jl#L106-L111">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.attach_expression!-Tuple{TulipaEnergyModel.TulipaTabularIndex, Symbol, Union{Vector{JuMP.AbstractJuMPScalar}, Vector{JuMP.AffExpr}}}" href="#TulipaEnergyModel.attach_expression!-Tuple{TulipaEnergyModel.TulipaTabularIndex, Symbol, Union{Vector{JuMP.AbstractJuMPScalar}, Vector{JuMP.AffExpr}}}"><code>TulipaEnergyModel.attach_expression!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">attach_expression!(cons_or_expr, name, container)
attach_expression!(model, cons_or_expr, name, container)</code></pre><p>Attach a expression named <code>name</code> stored in <code>container</code>, and optionally set <code>model[name] = container</code>. This checks that the <code>container</code> length matches the stored <code>indices</code> number of rows.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/structures.jl#L146-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.attach_expression_on_constraints_grouping_variables!-Tuple{Any, TulipaConstraint, TulipaVariable, Any, Any}" href="#TulipaEnergyModel.attach_expression_on_constraints_grouping_variables!-Tuple{Any, TulipaConstraint, TulipaVariable, Any, Any}"><code>TulipaEnergyModel.attach_expression_on_constraints_grouping_variables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">attach_expression_on_constraints_grouping_variables!(
    connection,
    constraint,
    variable,
    expr_name;
    agg_strategy
)</code></pre><p>Computes the intersection of the constraint and variable grouping by (:asset, :year, :rep_period).</p><p>The intersection is made on time blocks, so both the constraint table and the variable table must have columns id, time<em>block</em>start and time<em>block</em>end.</p><p>The variable <code>expr_name</code> will be the name of the attached expression.</p><p>The <code>agg_strategy</code> must be either <code>:sum</code>, <code>:mean</code>, and <code>:unique_sum</code>, indicating how to aggregate the variables for a given constraint time block.</p><p><strong>Implementation</strong></p><p>The expression uses a workspace to store all variables defined for each timestep. The idea of this algorithm is to append all variables defined at time <code>timestep</code> in <code>workspace[timestep]</code> and then aggregate then for the constraint time block.</p><p>The algorithm works like this:</p><ol><li>Loop over each group of (asset, year, rep_period)</li></ol><p>1.1. Loop over each variable in the group: (var<em>id, var</em>time<em>block</em>start, var<em>time</em>block<em>end) 1.1.1. Loop over each timestep in var</em>time<em>block</em>start:var<em>time</em>block<em>end 1.1.1.1. Compute the coefficient of the variable based on the rep</em>period   resolution and the variable efficiency 1.1.1.2. Store (var<em>id, coefficient) in workspace[timestep] 1.2. Loop over each constraint in the group: (cons</em>id, cons<em>time</em>block<em>start, cons</em>time<em>block</em>end) 1.2.1. Aggregate all variables in workspace[timestep] for timestep in the time   block to create a list of variable ids and their coefficients [(var_id1, coef1), ...] 1.2.2. Compute the expression using the variable container, the ids and coefficients</p><p>Notes:</p><ul><li>On step 1.2.1, the aggregation can be by either<ul><li>:sum - add the coefficients</li><li>:mean - add the coefficients and divide by number of times the variable appears</li><li>:unique_sum - use 1.0 for the coefficient (this is not robust)</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/expressions/intersection.jl#L1-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.compute_dual_variables!-Tuple{Any}" href="#TulipaEnergyModel.compute_dual_variables!-Tuple{Any}"><code>TulipaEnergyModel.compute_dual_variables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compute_dual_variables!(model)</code></pre><p>Compute the dual variables for the given model.</p><p>If the model does not have dual variables, this function fixes the discrete variables, optimizes the model, and then computes the dual variables.</p><p><strong>Arguments</strong></p><ul><li><code>model</code>: The model for which to compute the dual variables.</li></ul><p><strong>Returns</strong></p><p>A named tuple containing the dual variables of selected constraints.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/solve-model.jl#L155-L167">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.create_internal_tables!-Tuple{Any}" href="#TulipaEnergyModel.create_internal_tables!-Tuple{Any}"><code>TulipaEnergyModel.create_internal_tables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_internal_tables!(connection)</code></pre><p>Creates internal tables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/io.jl#L18-L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.create_merged_tables!-Tuple{Any}" href="#TulipaEnergyModel.create_merged_tables!-Tuple{Any}"><code>TulipaEnergyModel.create_merged_tables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_merged_tables!(connection)</code></pre><p>Create the internal tables of merged flows and assets time partitions to be used in the computation of the lowest and highest resolution tables. The inputs tables are the flows table <code>flow_time_resolution_rep_period</code>, the assets table <code>asset_time_resolution_rep_period</code> and the <code>flows_relationships</code>. All merged tables have the same columns: <code>asset</code>, <code>year</code>, <code>rep_period</code>, <code>time_block_start</code>, and <code>time_block_end</code>. Given a &quot;group&quot; <code>(asset, year, rep_period)</code>, the table will have the list of all partitions that should be used to compute the resolution tables. These are the output tables:</p><ul><li><code>merged_in_flows</code>: Set <code>asset = from_asset</code> and drop <code>to_asset</code> from <code>flow_time_resolution_rep_period</code>.</li><li><code>merged_out_flows</code>: Set <code>asset = to_asset</code> and drop <code>from_asset</code> from <code>flow_time_resolution_rep_period</code>.</li><li><code>merged_assets_and_out_flows</code>: Union of <code>merged_out_flows</code> and <code>asset_time_resolution_rep_period</code>.</li><li><code>merged_all_flows</code>: Union (i.e., vertically concatenation) of the tables above.</li><li><code>merged_all</code>: Union of <code>merged_all_flows</code> and <code>asset_time_resolution_rep_period</code>.</li><li><code>merged_flows_relationship</code>: Set <code>asset</code> from <code>flow_time_resolution_rep_period</code> depending on <code>flows_relationships</code></li></ul><p>This function is intended for internal use.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/data-preparation.jl#L401-L416">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.create_model!-Tuple{Any}" href="#TulipaEnergyModel.create_model!-Tuple{Any}"><code>TulipaEnergyModel.create_model!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_model!(energy_problem; kwargs...)</code></pre><p>Create the internal model of a <a href="#TulipaEnergyModel.EnergyProblem"><code>TulipaEnergyModel.EnergyProblem</code></a>. Any keyword argument will be passed to the underlying <a href="#TulipaEnergyModel.create_model-NTuple{5, Any}"><code>create_model</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/create-model.jl#L3-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.create_model-NTuple{5, Any}" href="#TulipaEnergyModel.create_model-NTuple{5, Any}"><code>TulipaEnergyModel.create_model</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">model, expressions = create_model(
    connection,
    variables,
    constraints,
    profiles,
    model_parameters;
    optimizer = HiGHS.Optimizer,
    optimizer_parameters = default_parameters(optimizer),
    model_file_name = &quot;&quot;,
    enable_names = true
    direct_model = false,
)</code></pre><p>Create the energy model manually. We recommend using <a href="#TulipaEnergyModel.create_model!-Tuple{Any}"><code>create_model!</code></a> instead.</p><p>The <code>optimizer</code> argument should be an MILP solver from the JuMP list of <a href="https://jump.dev/JuMP.jl/stable/installation/#Supported-solvers">supported solvers</a>. By default we use HiGHS.</p><p>The keyword argument <code>optimizer_parameters</code> should be passed as a dictionary of <code>key =&gt; value</code> pairs. These can be created manually, obtained using <a href="#TulipaEnergyModel.default_parameters-Tuple{Any}"><code>default_parameters</code></a>, or read from a file using <a href="#TulipaEnergyModel.read_parameters_from_file-Tuple{Any}"><code>read_parameters_from_file</code></a>.</p><pre><code class="language-julia hljs">parameters = Dict{String,Any}(&quot;presolve&quot; =&gt; &quot;on&quot;, &quot;time_limit&quot; =&gt; 60.0, &quot;output_flag&quot; =&gt; true)
solve_model(model; optimizer = HiGHS.Optimizer, optimizer_parameters = parameters)</code></pre><p>Set <code>enable_names = false</code> to avoid assigning names to variables and constraints, which improves speed but reduces the readability of log messages. For more information, see <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#set_string_names_on_creation"><code>JuMP.set_string_names_on_creation</code></a>.</p><p>Set <code>direct_model = true</code> to create a JuMP <code>direct_model</code> using <code>optimizer_with_attributes</code>, which has memory improvements. For more information, see <a href="https://jump.dev/JuMP.jl/stable/api/JuMP/#direct_model"><code>JuMP.direct_model</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/create-model.jl#L25-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.create_unrolled_partition_tables!-Tuple{Any}" href="#TulipaEnergyModel.create_unrolled_partition_tables!-Tuple{Any}"><code>TulipaEnergyModel.create_unrolled_partition_tables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_unrolled_partition_table!(connection)</code></pre><p>Create unrolled partitions tables from existing DuckDB tables, i.e., adds the time block start and end information.</p><p><strong>Input</strong></p><p>The following tables are expected to exist in the <code>connection</code>, containing the partition of some, or all, assets or flows, with their respective time information.</p><ul><li><code>assets_rep_periods_partitions</code></li><li><code>flows_rep_periods_partitions</code></li><li><code>assets_timeframe_partitions</code></li></ul><p><strong>Output</strong></p><p>The generated tables are the unrolled version of the tables above. It transforms each row in (possibly) multiple rows. The columns <code>specification</code> and <code>partition</code> are used to determine the time blocks, and are replaced by columns <code>time_block_start</code> and <code>time_block_end</code>.</p><ul><li><code>asset_time_resolution_rep_period</code></li><li><code>flow_time_resolution_rep_period</code></li><li><code>asset_time_resolution_over_clustered_year</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/data-preparation.jl#L222-L247">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.default_parameters-Tuple{Any}" href="#TulipaEnergyModel.default_parameters-Tuple{Any}"><code>TulipaEnergyModel.default_parameters</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">default_parameters(Val(optimizer_name_symbol))
default_parameters(optimizer)
default_parameters(optimizer_name_symbol)
default_parameters(optimizer_name_string)</code></pre><p>Returns the default parameters for a given JuMP optimizer. Falls back to <code>Dict()</code> for undefined solvers.</p><p><strong>Arguments</strong></p><p>There are four ways to use this function:</p><ul><li><code>Val(optimizer_name_symbol)</code>: This uses type dispatch with the special <code>Val</code> type. Pass the solver name as a Symbol (e.g., <code>Val(:HiGHS)</code>).</li><li><code>optimizer</code>: The JuMP optimizer type (e.g., <code>HiGHS.Optimizer</code>).</li><li><code>optimizer_name_symbol</code> or <code>optimizer_name_string</code>: Pass the name in Symbol or String format and it will be converted to <code>Val</code>.</li></ul><p>Using <code>Val</code> is necessary for the dispatch. All other cases will convert the argument and call the <code>Val</code> version, which might lead to type instability.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">using HiGHS
default_parameters(HiGHS.Optimizer)

# output

Dict{String, Any} with 1 entry:
  &quot;output_flag&quot; =&gt; false</code></pre><p>Another case</p><pre><code class="language-julia hljs">default_parameters(Val(:Cbc))

# output

Dict{String, Any} with 1 entry:
  &quot;logLevel&quot; =&gt; 0</code></pre><pre><code class="language-julia hljs">default_parameters(:Cbc) == default_parameters(&quot;Cbc&quot;) == default_parameters(Val(:Cbc))

# output

true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/solver-parameters.jl#L3-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.export_solution_to_csv_files-Tuple{Any, Any}" href="#TulipaEnergyModel.export_solution_to_csv_files-Tuple{Any, Any}"><code>TulipaEnergyModel.export_solution_to_csv_files</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">export_solution_to_csv_files(output_file, connection)</code></pre><p>Saves the solution in CSV files inside <code>output_folder</code>. Notice that this assumes that the solution has already been computed (e.g., by <a href="#TulipaEnergyModel.save_solution!-NTuple{4, Any}"><code>save_solution!</code></a>, or using rolling horizon).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/io.jl#L74-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.export_solution_to_csv_files-Tuple{Any, EnergyProblem}" href="#TulipaEnergyModel.export_solution_to_csv_files-Tuple{Any, EnergyProblem}"><code>TulipaEnergyModel.export_solution_to_csv_files</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">export_solution_to_csv_files(output_folder, energy_problem)</code></pre><p>Saves the solution from <code>energy_problem</code> in CSV files inside <code>output_file</code>. Notice that this assumes that the solution has been computed by <a href="#TulipaEnergyModel.save_solution!-NTuple{4, Any}"><code>save_solution!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/io.jl#L60-L65">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.get_single_element_from_query_and_ensure_its_only_one-Tuple{DuckDB.QueryResult}" href="#TulipaEnergyModel.get_single_element_from_query_and_ensure_its_only_one-Tuple{DuckDB.QueryResult}"><code>TulipaEnergyModel.get_single_element_from_query_and_ensure_its_only_one</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_single_element_from_query_and_ensure_its_only_one(query_result :: QueryResult)</code></pre><p>Given a DuckDB <code>query_result</code> (output of <code>DuckDB.query(...)</code> or <code>DuckDB.execute</code>), return the single element returned by it.</p><p>In other words, this assumes that <code>query_result</code> has a single row with a single column.</p><p>We use <code>only</code> twice to obtain this single element.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/utils.jl#L122-L131">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.populate_with_defaults!-Tuple{Any}" href="#TulipaEnergyModel.populate_with_defaults!-Tuple{Any}"><code>TulipaEnergyModel.populate_with_defaults!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">populate_with_defaults!(connection)</code></pre><p>Overwrites all tables expected by TulipaEnergyModel appending columns that have defaults. The expected columns and their defaults are obtained from <code>TulipaEnergyModel.schema</code>.</p><p>This should be called when you have enough data for a TulipaEnergyModel, but doesn&#39;t want to fill out all default columns by hand.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/data-preparation.jl#L122-L130">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.prepare_rolling_horizon_tables!-NTuple{4, Any}" href="#TulipaEnergyModel.prepare_rolling_horizon_tables!-NTuple{4, Any}"><code>TulipaEnergyModel.prepare_rolling_horizon_tables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">prepare_rolling_horizon_tables!(connection, variable_tables, save_rolling_solution, opt_window_length)</code></pre><p>Modify and create tables to prepare to start the rolling horizon execution. The changes are:</p><ul><li>Stored the original variable tables as <code>full_var_%</code> per variable table</li><li>Add <code>solution</code> column to each full variable table.</li><li>If <code>save_rolling_solution</code>, create the <code>rolling_solution_var_%</code> tables per variable table.</li><li>Backup <code>rep_periods_data</code> and <code>year_data</code> into <code>full_rep_periods_data</code> and <code>full_year_data</code>.</li><li>Modify <code>rep_periods_data</code> and <code>year_data</code> to use <code>opt_window_length</code> as <code>num_timesteps</code>/<code>length</code>, respectively.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/rolling-horizon/utils.jl#L39-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.prepare_tables_to_leave_rolling_horizon!-Tuple{Any, Any}" href="#TulipaEnergyModel.prepare_tables_to_leave_rolling_horizon!-Tuple{Any, Any}"><code>TulipaEnergyModel.prepare_tables_to_leave_rolling_horizon!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">prepare_tables_to_leave_rolling_horizon!(connection, variable_tables)</code></pre><p>Undo some of the changes done by [<code>prepare_rolling_horizon_tables</code>] to go back to the original input data. This involves:</p><ul><li>Revert <code>rep_periods_data</code> and <code>year_data</code> to their original values.</li><li>Drop the internal variable tables and replace them with the full variable tables.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/rolling-horizon/utils.jl#L174-L181">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.read_parameters_from_file-Tuple{Any}" href="#TulipaEnergyModel.read_parameters_from_file-Tuple{Any}"><code>TulipaEnergyModel.read_parameters_from_file</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_parameters_from_file(filepath)</code></pre><p>Parse the parameters from a file into a dictionary. The keys and values are NOT checked to be valid parameters for any specific solvers.</p><p>The file should contain a list of lines of the following type:</p><pre><code class="language-toml hljs">key = value</code></pre><p>The file is parsed as <a href="https://toml.io">TOML</a>, which is intuitive. See the example below.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Creating file
filepath, io = mktemp()
println(io,
  &quot;&quot;&quot;
    true_or_false = true
    integer_number = 5
    real_number1 = 3.14
    big_number = 6.66E06
    small_number = 1e-8
    string = &quot;something&quot;
  &quot;&quot;&quot;
)
close(io)
# Reading
read_parameters_from_file(filepath)

# output

Dict{String, Any} with 6 entries:
  &quot;string&quot;         =&gt; &quot;something&quot;
  &quot;integer_number&quot; =&gt; 5
  &quot;small_number&quot;   =&gt; 1.0e-8
  &quot;true_or_false&quot;  =&gt; true
  &quot;real_number1&quot;   =&gt; 3.14
  &quot;big_number&quot;     =&gt; 6.66e6</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/solver-parameters.jl#L68-L111">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.run_rolling_horizon-Tuple{Any, Any, Any}" href="#TulipaEnergyModel.run_rolling_horizon-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.run_rolling_horizon</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">energy_problem = run_rolling_horizon(
    connection,
    move_forward,
    opt_window_length;
    save_rolling_solution = false,
    kwargs...
)</code></pre><p>Run the scenario in the given <code>connection</code> as a rolling horizon and return the energy problem.</p><p>Our implementation of rolling horizon uses a moving window with size <code>opt_window_length</code> that is moved ahead each iteration by <code>move_forward</code>. The solution of the variables in the <code>move_forward</code> window are saved between iterations.</p><p>We implement a model with fixed size given by the <code>opt_window_length</code>. The <code>EnergyProblem</code> with this internal model is stored internally inside the returned <code>EnergyProblem</code> on field <code>rolling_horizon_energy_problem</code>.</p><p>The termination status of the returned <code>EnergyProblem</code> is the same as the termination status of the last solved window. In other words, it is OPTIMAL if all windows were solved optimally. Otherwise, the last solved window will be non-optimal, and the issue will be returned.</p><p>The table <code>rolling_horizon_window</code> stores the window information.</p><p>If <code>save_rolling_solution</code> is <code>true</code>, the tables <code>rolling_solution_var_%</code> will be created for each non-empty variable. These can be used for debugging purposes.</p><p>The parameters associated with the profiles are stored in <code>rolling_horizon_energy_problem.profiles</code>, in the respective <code>rolling_horizon_variables</code>.</p><p>The other rolling parameters are stored in tables <code>param_%</code> and <code>rolling_horizon_energy_problem.variables</code> under the same name.</p><p>This function also accepts other keyword arguments also accepted by <a href="#TulipaEnergyModel.run_scenario-Tuple{Any}"><code>run_scenario</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/rolling-horizon/rolling-horizon.jl#L7-L44">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.run_scenario-Tuple{Any}" href="#TulipaEnergyModel.run_scenario-Tuple{Any}"><code>TulipaEnergyModel.run_scenario</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">energy_problem = run_scenario(
    connection;
    output_folder,
    optimizer,
    optimizer_parameters,
    model_parameters_file,
    model_file_name,
    enable_names,
    log_file,
    show_log)</code></pre><p>Run the scenario in the given <code>connection</code> and return the energy problem.</p><p>The <code>optimizer</code> and <code>optimizer_parameters</code> keyword arguments can be used to change the optimizer (the default is HiGHS) and its parameters. The arguments are passed to the <a href="#TulipaEnergyModel.create_model-NTuple{5, Any}"><code>create_model</code></a> function.</p><p>Set <code>model_file_name = &quot;some-name.lp&quot;</code> to export the problem that is sent to the solver to a file for viewing (.lp or .mps). Set <code>enable_names = false</code> to turn off variable and constraint names (faster model creation). Set <code>direct_model = true</code> to create a JuMP direct model (faster &amp; less memory). Set <code>show_log = false</code> to silence printing the log while running.</p><p>Specify a <code>output_folder</code> name to export the solution to CSV files. Specify a <code>model_parameters_file</code> name to load the model parameters from a TOML file. Specify a <code>log_file</code> name to export the log to a file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/run-scenario.jl#L3-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.save_solution!-NTuple{4, Any}" href="#TulipaEnergyModel.save_solution!-NTuple{4, Any}"><code>TulipaEnergyModel.save_solution!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">save_solution!(connection, model, variables, constraints; compute_duals = true)</code></pre><p>Saves the primal and dual variables values, in the following way:</p><ul><li>For each variable in <code>variables</code>, get the solution value and save it in a</li></ul><p>column named <code>solution</code> in the corresponding dataset.</p><ul><li>For each constraint in <code>constraints</code>, get the dual of each attached</li></ul><p>constraint listed in <code>constraint.constraint_names</code> and save it to the dictionary <code>constraint.duals</code> with the key given by the name.</p><p>Notice that the duals are only computed if <code>compute_duals</code> is true.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/solve-model.jl#L57-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.save_solution!-Tuple{EnergyProblem}" href="#TulipaEnergyModel.save_solution!-Tuple{EnergyProblem}"><code>TulipaEnergyModel.save_solution!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">save_solution!(energy_problem::EnergyProblem; compute_duals = true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/solve-model.jl#L44-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.save_solution_into_tables!-NTuple{7, Any}" href="#TulipaEnergyModel.save_solution_into_tables!-NTuple{7, Any}"><code>TulipaEnergyModel.save_solution_into_tables!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">save_solution_into_tables!(energy_problem, variable_tables, window_id, move_forward, window_start, horizon_length, save_rolling_solution)</code></pre><p>Save the current rolling horizon solution from the model into the connection. This involves:</p><ul><li>Calling <a href="#TulipaEnergyModel.save_solution!-NTuple{4, Any}"><code>save_solution!</code></a> to copy the internal solution from the JuMP model to the connection.</li><li>Copying the solution from the internal variables to the full variables for the <code>move_forward</code> sub-window.</li><li>If <code>save_rolling_solution</code>, save the complete rolling solution in the table <code>rolling_solution_var_%</code> per variable table.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/rolling-horizon/utils.jl#L93-L101">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.solve_model!-Tuple{EnergyProblem}" href="#TulipaEnergyModel.solve_model!-Tuple{EnergyProblem}"><code>TulipaEnergyModel.solve_model!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">solve_model!(energy_problem::EnergyProblem)</code></pre><p>Solve the internal model of an <code>energy_problem</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/solve-model.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.solve_model-Tuple{JuMP.Model}" href="#TulipaEnergyModel.solve_model-Tuple{JuMP.Model}"><code>TulipaEnergyModel.solve_model</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">solve_model(model::JuMP.Model)</code></pre><p>Solve the JuMP model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/solve-model.jl#L25-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.update_initial_storage_level!-Tuple{TulipaVariable, Any, Any}" href="#TulipaEnergyModel.update_initial_storage_level!-Tuple{TulipaVariable, Any, Any}"><code>TulipaEnergyModel.update_initial_storage_level!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">update_initial_storage_level!(param_initial_storage_level, connection, move_forward)</code></pre><p>Update the initial<em>storage</em>level parameter to use the new value at time<em>block</em>end=move_forward</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/rolling-horizon/update.jl#L19-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.update_rolling_horizon_profiles!-Tuple{Any, Any, Any}" href="#TulipaEnergyModel.update_rolling_horizon_profiles!-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.update_rolling_horizon_profiles!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">update_rolling_horizon_profiles!(profiles, window_start, window_end)</code></pre><p>Update the profile parameters to use the window window<em>start:window</em>end.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/rolling-horizon/update.jl#L2-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.update_scalar_parameters!-Tuple{Any, Any, Any}" href="#TulipaEnergyModel.update_scalar_parameters!-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.update_scalar_parameters!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">update_scalar_parameters!(variables, connection, move_forward)</code></pre><p>Update scalar parameters, i.e., the ones that have an initial value that changes between windows.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/rolling-horizon/update.jl#L58-L63">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.validate_data!-Tuple{Any}" href="#TulipaEnergyModel.validate_data!-Tuple{Any}"><code>TulipaEnergyModel.validate_data!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">validate_data!(connection)</code></pre><p>Raises an error if the data is not valid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/data-validation.jl#L22-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TulipaEnergyModel.validate_rolling_horizon_input-Tuple{Any, Any, Any}" href="#TulipaEnergyModel.validate_rolling_horizon_input-Tuple{Any, Any, Any}"><code>TulipaEnergyModel.validate_rolling_horizon_input</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">validate_rolling_horizon_input(connection, move_forward, opt_window)</code></pre><p>Validation of the rolling horizon input:</p><ul><li>opt<em>window</em>length ≥ move_forward</li><li>Only one representative period per year</li><li>Only &#39;uniform&#39; partitions are allowed</li><li>Only partitions that exactly divide opt<em>window</em>length are allowed</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TulipaEnergy/TulipaEnergyModel.jl/blob/912ed4c64624d5a6e6831f54c5f37f8f62b4f22c/src/rolling-horizon/utils.jl#L2-L10">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../40-scientific-foundation/45-scientific-references/">« Scientific References</a><a class="docs-footer-nextpage" href="../80-ecosystem/">Tulipa Ecosystem »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Tuesday 21 October 2025 01:03">Tuesday 21 October 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
